<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Grub | Was ich so treibe...]]></title>
  <link href="http://uli-heller.github.com/blog/categories/grub/atom.xml" rel="self"/>
  <link href="http://uli-heller.github.com/"/>
  <updated>2013-08-07T10:00:49+02:00</updated>
  <id>http://uli-heller.github.com/</id>
  <author>
    <name><![CDATA[Uli Heller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[GrubReboot: Reboot eines anderen Eintrages des Grub-Menüs]]></title>
    <link href="http://uli-heller.github.com/blog/2013/05/11/grub-reboot/"/>
    <updated>2013-05-11T06:31:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/05/11/grub-reboot</id>
    <content type="html"><![CDATA[<p>Üblicherweise starte ich meine diversen VMs einfach mit <code>sudo reboot</code>
neu. Dabei wird dann der Standard-Eintrag im Grub-Menü selektiert und
das betreffende Betriebssystem hochgefahren.</p>

<p>Manchmal möchte ich aber einen anderen Eintrag aktivieren und ein
alternatives Betriebssystem oder einen anderen Linux-Kernel starten.
Das Verfahren habe ich mir von <a href="http://michael-prokop.at/blog/2013/05/10/how-to-get-grub-reboot-working/">Michael Prokop&rsquo;s Blog</a> &lsquo;geklaut&rsquo;.</p>

<!-- more -->


<h2>Sichten: Welche Menüeinträge gibt es?</h2>

<p>{% codeblock Liste der Menüeinträge in Grub lang:sh %}</p>

<h1>grep &ldquo;^menuentry&rdquo; /boot/grub/grub.cfg</h1>

<p>menuentry &lsquo;Ubuntu, with Linux 3.2.0-36-virtual&rsquo; &mdash;class ubuntu &mdash;class gnu-linux &mdash;class gnu &mdash;class os {
menuentry &lsquo;Ubuntu, with Linux 3.2.0-36-virtual (recovery mode)&rsquo; &mdash;class ubuntu &mdash;class gnu-linux &mdash;class gnu &mdash;class os {
menuentry &ldquo;Memory test (memtest86+)&rdquo; {
menuentry &ldquo;Memory test (memtest86+, serial console 115200)&rdquo; {
{% endcodeblock %}</p>

<h2>Umstellen des Standard-Boot-Eintrages</h2>

<p>{% codeblock Umstellen der Standard-Boot-Eintrages lang:sh %}</p>

<h1>grep GRUB_DEFAULT /etc/default/grub</h1>

<p>GRUB_DEFAULT=0</p>

<h1>sed -i &rsquo;s/^GRUB_DEFAULT.*/GRUB_DEFAULT=saved/&lsquo; /etc/default/grub</h1>

<h1>grep GRUB_DEFAULT /etc/default/grub</h1>

<p>GRUB_DEFAULT=saved</p>

<h1>update-grub</h1>

<p>Generating grub.cfg &hellip;
Found linux image: /boot/vmlinuz-3.2.0-36-virtual
Found initrd image: /boot/initrd.img-3.2.0-36-virtual
Found memtest86+ image: /memtest86+.bin
done
{% endcodeblock %}</p>

<h2>Neustart eines anderen Eintrages</h2>

<p>Ich möchte den Eintrag &ldquo;Memory test (memtest86+)&rdquo;
starten, das ist der dritte Eintrag im Boot-Menü:</p>

<p>{% codeblock Neustart mit dem dritten Standard-Boot-Eintrag lang:sh %}</p>

<h1>grub-reboot 2</h1>

<h1>reboot</h1>

<p>{% endcodeblock %}</p>

<p>Nun wird der dritte Eintrag gestartet, der blaue Bildschirm von
&ldquo;Memory Test&rdquo; erscheint.</p>

<p>Beim nächsten Neustart wird dann wieder der ursprüngliche Boot-Eintrag
geladen.</p>
]]></content>
  </entry>
  
</feed>
