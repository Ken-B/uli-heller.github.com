<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Perl | Was ich so treibe...]]></title>
  <link href="http://uli-heller.github.com/blog/categories/perl/atom.xml" rel="self"/>
  <link href="http://uli-heller.github.com/"/>
  <updated>2013-08-07T10:00:49+02:00</updated>
  <id>http://uli-heller.github.com/</id>
  <author>
    <name><![CDATA[Uli Heller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Perl: CPAN ohne Root]]></title>
    <link href="http://uli-heller.github.com/blog/2013/06/10/cpan-ohne-root/"/>
    <updated>2013-06-10T06:00:00+02:00</updated>
    <id>http://uli-heller.github.com/blog/2013/06/10/cpan-ohne-root</id>
    <content type="html"><![CDATA[<p>Manchmal möchte man Perl-Module auf einem Rechner installieren,
ohne dass man Root-Rechte dafür hat &ndash; oder umgekehrt: Man
möchte Leuten ermöglichen, auf einem Rechner mit Perl-Modulen
rumzuspielen, für den sie keinen Root-Zugriff haben. Die nachfolgende
Beschreibung bezieht sich auf Ubuntu-12.04.</p>

<!-- more -->


<h2>Vorbereitung: Diverse Pakete installieren</h2>

<p>Für diesen Abschnitt wird &ldquo;root&rdquo;-Zugriff benötigt!</p>

<pre><code>sudo apt-get install perl-modules
sudo apt-get install liblocal-lib-perl
sudo apt-get install make
sudo apt-get install build-essential
</code></pre>

<h2>Grundeinrichtung von CPAN</h2>

<p>Für die Grundeinrichtung von CPAN wird als &ldquo;normaler&rdquo; Benutzer
das Kommando <code>cpan</code> ausgeführt. Bei der Ersteinrichtung werden
viele Fragen gestellt, die man am besten einfach &ldquo;Abnickt&rdquo;.
Wenn was schief läuft: <code>rm -rf ~/.cpan</code> und erneut starten!</p>

<p>Hier das Konsolen-Log der Grundeinrichtung:</p>

<p>{% codeblock Grundeinrichtung von CPAN %}
Sorry, we have to rerun the configuration dialog for CPAN.pm due to
some missing parameters. Configuration will be written to
 &lt;&lt;/home/ubuntu/.cpan/CPAN/MyConfig.pm>></p>

<p>CPAN.pm requires configuration, but most of it can be done automatically.
If you answer &lsquo;no&rsquo; below, you will enter an interactive dialog for each
configuration option instead.</p>

<p>Would you like to configure as much as possible automatically? [yes]</p>

<p> &lt;install_help></p>

<p>Warning: You do not have write permission for Perl library directories.</p>

<p>To install modules, you need to configure a local Perl library directory or
escalate your privileges.  CPAN can help you by bootstrapping the local::lib
module or by configuring itself to use &lsquo;sudo&rsquo; (if available).  You may also
resolve this problem manually if you need to customize your setup.</p>

<p>What approach do you want?  (Choose &lsquo;local::lib&rsquo;, &lsquo;sudo&rsquo; or &lsquo;manual&rsquo;)
 [local::lib]</p>

<p>ALERT: &lsquo;make&rsquo; is an essential tool for building perl Modules.
Please make sure you have &lsquo;make&rsquo; (or some equivalent) working.</p>

<p>Autoconfigured everything but &lsquo;urllist&rsquo;.</p>

<p>Now you need to choose your CPAN mirror sites.  You can let me
pick mirrors for you, you can select them from a list or you
can enter them by hand.</p>

<p>Would you like me to automatically choose some CPAN mirror
sites for you? (This means connecting to the Internet) [yes]</p>

<p>Trying to fetch a mirror list from the Internet
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://www.perl.org/CPAN/MIRRORED.BY">http://www.perl.org/CPAN/MIRRORED.BY</a></p>

<p>Looking for CPAN mirrors near you (please be patient)
&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;. done!</p>

<p>New urllist
  <a href="http://httpupdate37.cpanel.net/CPAN/">http://httpupdate37.cpanel.net/CPAN/</a>
  <a href="http://cpan.mirrors.uk2.net/">http://cpan.mirrors.uk2.net/</a>
  <a href="http://ftp.spbu.ru/CPAN/">http://ftp.spbu.ru/CPAN/</a></p>

<p>Autoconfiguration complete.</p>

<p>Attempting to bootstrap local::lib&hellip;</p>

<p>Writing /home/ubuntu/.cpan/CPAN/MyConfig.pm for bootstrap&hellip;
commit: wrote &lsquo;/home/ubuntu/.cpan/CPAN/MyConfig.pm&rsquo;
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://httpupdate37.cpanel.net/CPAN/authors/01mailrc.txt.gz">http://httpupdate37.cpanel.net/CPAN/authors/01mailrc.txt.gz</a>
Going to read &lsquo;/home/ubuntu/.cpan/sources/authors/01mailrc.txt.gz&rsquo;
&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.DONE
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://httpupdate37.cpanel.net/CPAN/modules/02packages.details.txt.gz">http://httpupdate37.cpanel.net/CPAN/modules/02packages.details.txt.gz</a>
Going to read &lsquo;/home/ubuntu/.cpan/sources/modules/02packages.details.txt.gz&rsquo;
  Database was generated on Mon, 10 Jun 2013 03:53:02 GMT
  <a href="HTTP::Date">HTTP::Date</a> not available
&hellip;&hellip;&hellip;&hellip;..
  New CPAN.pm version (v2.00) available.
  [Currently running version is v1.960001]
  You might want to try</p>

<pre><code>install CPAN
reload cpan
</code></pre>

<p>  to both upgrade CPAN.pm and run the new version without leaving
  the current session.</p>

<p>&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..DONE
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://httpupdate37.cpanel.net/CPAN/modules/03modlist.data.gz">http://httpupdate37.cpanel.net/CPAN/modules/03modlist.data.gz</a>
Going to read &lsquo;/home/ubuntu/.cpan/sources/modules/03modlist.data.gz&rsquo;
&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.DONE
Going to write /home/ubuntu/.cpan/Metadata
Running make for E/ET/ETHER/local-lib-1.008010.tar.gz
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://httpupdate37.cpanel.net/CPAN/authors/id/E/ET/ETHER/local-lib-1.008010.tar.gz">http://httpupdate37.cpanel.net/CPAN/authors/id/E/ET/ETHER/local-lib-1.008010.tar.gz</a>
Fetching with <a href="HTTP::Tiny:">HTTP::Tiny:</a>
<a href="http://httpupdate37.cpanel.net/CPAN/authors/id/E/ET/ETHER/CHECKSUMS">http://httpupdate37.cpanel.net/CPAN/authors/id/E/ET/ETHER/CHECKSUMS</a>
Checksum for /home/ubuntu/.cpan/sources/authors/id/E/ET/ETHER/local-lib-1.008010.tar.gz ok
&mdash;&mdash; Unsatisfied dependencies detected during &mdash;&mdash;
&mdash;&mdash;      ETHER/local-lib-1.008010.tar.gz     &mdash;&mdash;</p>

<pre><code>ExtUtils::MakeMaker [build_requires]
</code></pre>

<p>Running make test
  Make had some problems, won&rsquo;t test
  Delayed until after prerequisites
Running make install
  Make had some problems, won&rsquo;t install
  Delayed until after prerequisites
Tried to deactivate inactive local::lib &lsquo;/home/ubuntu/perl5&rsquo;</p>

<p>local::lib is installed. You must now add the following environment variables
to your shell configuration files (or registry, if you are on Windows) and
then restart your command line shell and CPAN before installing modules:</p>

<p>Use of uninitialized value $deactivating in numeric eq (==) at /usr/share/perl5/local/lib.pm line 354.
Use of uninitialized value $deactivating in numeric eq (==) at /usr/share/perl5/local/lib.pm line 356.
Use of uninitialized value $interpolate in numeric eq (==) at /usr/share/perl5/local/lib.pm line 366.
export PERL_LOCAL_LIB_ROOT=&ldquo;/home/ubuntu/perl5&rdquo;;
export PERL_MB_OPT=&ldquo;&mdash;install_base /home/ubuntu/perl5&rdquo;;
export PERL_MM_OPT=&ldquo;INSTALL_BASE=/home/ubuntu/perl5&rdquo;;
export PERL5LIB=&ldquo;/home/ubuntu/perl5/lib/perl5/i686-linux-gnu-thread-multi-64int:/home/ubuntu/perl5/lib/perl5&rdquo;;
export PATH=&ldquo;/home/ubuntu/perl5/bin:$PATH&rdquo;;</p>

<p>Would you like me to append that to /home/ubuntu/.bashrc now? [yes]</p>

<p>commit: wrote &lsquo;/home/ubuntu/.cpan/CPAN/MyConfig.pm&rsquo;</p>

<p>You can re-run configuration any time with &lsquo;o conf init&rsquo; in the CPAN shell
Terminal does not support AddHistory.</p>

<p>cpan shell &mdash; CPAN exploration and modules installation (v1.960001)
Enter &lsquo;h&rsquo; for help.</p>

<p>cpan[1]> quit
{% endcodeblock %}</p>

<h2>Moose installieren</h2>

<p>Nun installiere ich das Perl-Modul Moose via CPAN. Läuft ohne Probleme durch!</p>

<p>{% codeblock Moose installieren mit CPAN lang:sh %}
$ cpan install Moose
&hellip;
Installing /home/ubuntu/perl5/man/man3/Moose::Manual::Classes.3pm
Installing /home/ubuntu/perl5/bin/moose-outdated
Appending installation info to /home/ubuntu/perl5/lib/perl5/i686-linux-gnu-thread-multi-64int/perllocal.pod
  ETHER/Moose-2.0802.tar.gz
  /usr/bin/make install  &mdash; OK
{% endcodeblock %}</p>
]]></content>
  </entry>
  
</feed>
