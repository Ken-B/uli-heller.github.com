<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Was ich so treibe...]]></title>
  <link href="http://uli-heller.github.com/atom.xml" rel="self"/>
  <link href="http://uli-heller.github.com/"/>
  <updated>2013-04-05T11:16:37+02:00</updated>
  <id>http://uli-heller.github.com/</id>
  <author>
    <name><![CDATA[Uli Heller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
    <entry>
      




<title type="html"><![CDATA[GPG: Signaturen]]></title>
<link href="http://uli-heller.github.com/2013/04/03/gpg-signaturen/"/>
<updated>2013-04-03T15:00:00+02:00</updated>
<id>http://uli-heller.github.com/2013/04/03/gpg-signaturen</id>

      <content type="html"><![CDATA[<h1>Signatur von Quelltext-Dateien prüfen</h1>

<h2>Nginx</h2>

<ol>
<li><p>Quelltexte herunterladen: <code>wget -O - http://nginx.org/download/nginx-1.2.8.tar.gz|gzip -cd &gt;nginx-1.2.8.tar.gz</code></p>

<p>Hinweis: Dieses umständliche Vorgehen ist notwendig, weil die Version 1.2.8 aus unerfindlichen Gründen &#8220;doppelt komprimiert&#8221; ist!</p></li>
<li><p>Signatur herunterladen: <code>wget http://nginx.org/download/nginx-1.2.8.tar.gz.asc</code></p></li>
<li><p>Signatur prüfen: <code>gpg  nginx-1.2.8.tar.gz.asc</code></p>

<p>Klappt nicht: Es wird gemeckert weil der zugehörige RSA-Schlüssel fehlt</p></li>
<li><p>Schlüssel importieren - auf eine der folgenden Arten:</p>

<ul>
<li><p>Vom Keyserver: <code>gpg --keyserver pgpkeys.mit.edu --recv-key A1C052F8</code></p></li>
<li><p>Mittels manuellem Download: <code>wget -O - http://nginx.org/keys/mdounin.key|gzip -cd|gpg --import</code></p></li>
</ul>


<p>Ich hab&#8217;s auf beide Arten gemacht und dabei überprüft, dass der Schlüssel identisch ist!</p></li>
<li><p>Erneuter Test: <code>gpg  nginx-1.2.8.tar.gz.asc</code></p>

<p>Klappt halbwegs!</p></li>
</ol>


<h2>Subversion</h2>

<ol>
<li><p>Quelltext herunterladen: <code>wget http://mirror.serversupportforum.de/apache/subversion/subversion-1.7.9.tar.gz</code></p></li>
<li><p>Signatur herunterladen: <code>wget http://www.apache.org/dist/subversion/subversion-1.7.9.tar.gz.asc</code></p></li>
<li><p>Schlüssel importieren: <code>wget -O - https://people.apache.org/keys/group/subversion.asc|gpg --import</code></p></li>
<li><p>Signatur prüfen: <code>gpg subversion-1.7.9.tar.gz.asc</code></p></li>
</ol>

<p><a rel="bookmark" href="http://uli-heller.github.com/2013/04/03/gpg-signaturen/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[JMX auf Localhost]]></title>
<link href="http://uli-heller.github.com/2013/03/22/localhost-jmx/"/>
<updated>2013-03-22T08:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/22/localhost-jmx</id>

      <content type="html"><![CDATA[<h1>JMX so aktivieren, dass der Zugriff nur via Localhost möglich ist</h1>

<p>Im Java-Umfeld gibt es die JMX-Schnittstelle, die u.a. für&#8217;s Monitoringittels JCONSOLE verwendet werden kann. Für meine eigenen Java-Prozesse ist das schnell erledigt: Einfach den Java-Prozess starten, dann <code>jconsole</code> (ohne Zusatzargument). Es wird eine Liste mit allen meinem Java-Prozessen angezeigt und ich kann einfach den gewünschten auswählen. Danach bekomme ich eine Anzeige ähnlich dieser:</p>

<p><img class="" src="http://uli-heller.github.com/images/java/jconsole.png"></p>

<p>Dummerweise werden Webanwendungen manchmal mit anderen Benutzern gestartet, die noch dazu recht abgeschottet sind. Da scheitert der vorige Wert für mich - die betreffenden Tomcats erscheinen dann einfach nicht in der Liste. Das ist der Punkt, an dem man gerne die Remote-Schnittstelle über das setzen diverser Java-Properties freischaltet. Dumm dabei: Nun kann netzwerkweit auf die JMX-Schnittstelle zugegriffen werden - sofern man sie nicht zusätzlich abblockt, was auch wieder Aufwand bedeutet.</p>

<p>Ziel: Wir wollen die JMX-Schnittstelle so in Betrieb nehmen, dass nur von &#8220;localhost&#8221; aus auf sie zugegriffen werden kann!</p>

<!-- more -->


<h2>JMX für Netzwerkzugriffe öffnen</h2>

<p>Hier das klassische Vorgehen mittels Java-Properties:</p>

<figure class='code'><figcaption><span>tomcat/bin/setenv.sh </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Djava.rmi.server.hostname=localhost&quot;</span>
</span><span class='line'><span class="nv">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dcom.sun.management.jmxremote ${CATALINA_OPTS}&quot;</span>
</span><span class='line'><span class="nv">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dcom.sun.management.jmxremote.port=11223 ${CATALINA_OPTS}&quot;</span>
</span><span class='line'><span class="nv">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dcom.sun.management.jmxremote.authenticate=false ${CATALINA_OPTS}&quot;</span>
</span><span class='line'><span class="nv">CATALINA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dcom.sun.management.jmxremote.ssl=false ${CATALINA_OPTS}&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nachteile:</p>

<ul>
<li><p>Das ist ein Scheunentor - netzwerkweit &#8220;jeder&#8221; kann nun mittels JMX auf unsere Anwendung zugreifen</p></li>
<li><p>Absichern könnte man&#8217;s mit Firewall-Regeln, was aber zusätzliche Arbeitslast für die Firewall-Truppe bedeutet</p></li>
<li><p>Oder man aktiviert die Authentifizierung und hängt so eine Art Benutzerverwaltung mit dran - auch doof</p></li>
</ul>


<p>Eine Idee ist nun, den JMX-Port nicht netzwerkweit sondern nur über &#8220;localhost&#8221; erreichbar zu machen. Praktisch bedeutet dies, dass dann nur Leute, die sich auf dem betreffenden Rechner anmelden können, Zugriff auf die JMX-Schnittstelle haben. Die oben aufgeführten Java-Properties bieten leider keine entsprechende Einschränkmöglichkeit, also muß eine andere Lösung her!</p>

<h2>JMX über eine eigene RMISocketFactory freigeben</h2>

<p>Die Idee für nachfolgendes Vorgehen stammt von <a href="http://stackoverflow.com/questions/347056/restricting-jmx-to-localhost">StackOverflow</a>. Grob geht&#8217;s so:</p>

<ul>
<li>Eigene RMISocketFactory erstellen und registrieren</li>
<li>MBeanServer über die Standard-ManagementFactory &#8220;holen&#8221;</li>
<li>MBeanServer mit der eigenen RMISocketFactory &#8220;verknüpfen&#8221; und einen JMXConnectorServer dafür erzeugen und starten</li>
</ul>


<p>Zusätzlich zu den in der Quelle auf <a href="http://stackoverflow.com/questions/347056/restricting-jmx-to-localhost">StackOverflow</a> umgesetzten Schritte mußte ich noch das Java-Property &#8220;java.rmi.server.hostname&#8221; auf &#8220;127.0.0.1&#8221; setzen. Ohne diesen Zusatzschritt funktioniert später JCONSOLE nicht.</p>

<p>Wenn man das richtig getan hat, dann kann man danach mittels <code>jconsole localhost:11223</code> die JCONSOLE starten. &#8220;11223&#8221; ist dabei die Portnummer, die man bei vorigem Ablauf mit verarbeitet.</p>

<p>Ich habe das ganze noch in ein Servlet verpackt. Nun kann ich durch</p>

<ul>
<li><code>curl http://localhost-jmx/jmx/start</code> &#8230; die JMX-Schnittstelle &#8220;öffnen&#8221;</li>
<li><code>curl http://localhost-jmx/jmx/stop</code> &#8230; die JMX-Schnittstelle &#8220;schließen&#8221;</li>
</ul>


<p>Zur Not geht das auch über einen Browser.</p>

<p>Seitens des Operatings sind keinerlei Eingriffe erforderlich. Auch das lästige Setzen des Java-Properties erübrigt sich.</p>

<p>Den Quelltext zu dem ganzen gibt&#8217;s auf <a href="https://github.com/uli-heller/uli-java-prototypes/tree/master/localhost-jmx">GitHub</a></p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/22/localhost-jmx/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Neue Einträge für debian/changelog]]></title>
<link href="http://uli-heller.github.com/2013/03/21/debian-changelog/"/>
<updated>2013-03-21T07:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/21/debian-changelog</id>

      <content type="html"><![CDATA[<h1>Erstellen von Debian-Paketen: Neue Einträge für debian/changelog</h1>

<p>Wenn man selbst gelegentlich Debian-Pakete erstellt, so kommt man öfter in die Lage die Datei debian/changelog editieren zu müssen.</p>

<!-- more -->


<p>Die Datei selbst ist eine einfache Text-Datei und hat beispielsweise so einen Inhalt:</p>

<figure class='code'><figcaption><span>Beispiel: debian/changelog </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='plain'><span class='line'>gexiv2 (0.3.1-0maverick1) maverick; urgency=low
</span><span class='line'>
</span><span class='line'>  * All debug and log messages from Exiv2 are now routed through GLib's logging functions.
</span><span class='line'>
</span><span class='line'> -- Jim Nelson &lt;jim@yorba.org>  Tue, 22 Mar 2011 14:46:17 -0700
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>gexiv2 (0.3.0-0maverick1) maverick; urgency=low
</span><span class='line'>
</span><span class='line'>  * Updated to work with Exiv2 0.21, which has an ABI change from 0.20.
</span><span class='line'>
</span><span class='line'> -- Jim Nelson &lt;jim@yorba.org>  Mon, 10 Jan 2011 12:18:07 -0800</span></code></pre></td></tr></table></div></figure>


<p>Wenn man nun einen neuen Eintrag anlegen möchte, so muß man diese Dinge erzeugen:</p>

<ul>
<li>die Überschrift; hierbei darauf achten, dass die Versionsnummer hochgezählt wird!</li>
<li>einen neuen &#8220;Bullet-Item&#8221; erzeugen</li>
<li>die Unterschrift mit eigener Mail-Adresse und richtigem Zeitstempel</li>
</ul>


<p>Besonders die Sache mit dem Zeitstempel empfinde ich als lästig.</p>

<p>Viel einfacher geht&#8217;s mit <code>debchange --increment</code>: Es öffnet sich direkt ein Editor mit einer Vorlage für den neuen Eintrag!</p>

<figure class='code'><figcaption><span>debchange &#8211;increment </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='plain'><span class='line'>gexiv2 (0.3.1-0ubuntu1) precise; urgency=low
</span><span class='line'>
</span><span class='line'>  *
</span><span class='line'>
</span><span class='line'> -- Uli Heller &lt;uli.heller@daemons-point.com>  Thu, 21 Mar 2013 07:36:33 +0100
</span><span class='line'>
</span><span class='line'>gexiv2 (0.3.1-0maverick1) maverick; urgency=low
</span><span class='line'>
</span><span class='line'>  * All debug and log messages from Exiv2 are now routed through GLib's logging functions.
</span><span class='line'>
</span><span class='line'> -- Jim Nelson &lt;jim@yorba.org>  Tue, 22 Mar 2011 14:46:17 -0700
</span><span class='line'>
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>



<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/21/debian-changelog/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Dovecot-2.2 - DEB-Paket erzeugen]]></title>
<link href="http://uli-heller.github.com/2013/03/11/dovecot/"/>
<updated>2013-03-11T09:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/11/dovecot</id>

      <content type="html"><![CDATA[<h1>Ubuntu-Pakete aktualisieren - Dovecot</h1>

<p>Heute soll eine neue Version von Dovecot erzeugt werden.
Grob geht&#8217;s so:</p>

<ul>
<li>Quellen der Standardversion von Ubuntu runterladen und kompilieren</li>
<li>Aktualisieren auf die gewünschte neue Version (2.2.rc2)</li>
<li>Neue Version kompilieren</li>
</ul>


<p>Mal sehen, ob&#8217;s klappt wie vorgesehen!</p>

<!-- more -->


<h2>Standardversion von Ubuntu</h2>

<figure class='code'><figcaption><span>Standardversion herunterladen und bauen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Build-Verzeichnis anlegen und reinwechseln</span>
</span><span class='line'>mkdir -p /build/dovecot
</span><span class='line'><span class="nb">cd</span> /build/dovecot
</span><span class='line'><span class="c"># Quellen zum Ubuntu-Paket runterladen - 2.0.19-0ubuntu2</span>
</span><span class='line'>apt-get <span class="nb">source </span>dovecot
</span><span class='line'><span class="c"># Abhängigkeiten nachinstallieren</span>
</span><span class='line'>sudo apt-get build-dep dovecot
</span><span class='line'><span class="c"># Ubuntu-Paket erzeugen</span>
</span><span class='line'><span class="nb">cd </span>dovecot-2.0.19
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># ... läuft hoffentlich ohne Probleme durch</span>
</span><span class='line'>quilt pop -a
</span></code></pre></td></tr></table></div></figure>


<h2>Aktualisierung auf 2.2.rc2</h2>

<figure class='code'><figcaption><span>Aktualisierung auf 2.2.rc2 </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># In Build-Verzeichnis reinwechseln</span>
</span><span class='line'><span class="nb">cd</span> /build/dovecot
</span><span class='line'><span class="c"># Quellen zu Dovecot-2.2.rc1 runterladen</span>
</span><span class='line'>wget http://syksy.dovecot.org/releases/2.2/rc/dovecot-2.2.rc2.tar.gz
</span><span class='line'><span class="c"># Erster Versuch...</span>
</span><span class='line'><span class="nb">cd </span>dovecot-2.0.19
</span><span class='line'>uupdate -u ../dovecot-2.2.rc2.tar.gz
</span><span class='line'><span class="c"># ... zeigt leider eine Fehlermeldung an:</span>
</span><span class='line'><span class="c">#   uupdate: new version number not recognized from given filename</span>
</span><span class='line'><span class="c">#   Please run uupdate with the -v option</span>
</span><span class='line'><span class="c"># Also nochmal...</span>
</span><span class='line'>uupdate -u ../dovecot-2.2.rc2.tar.gz -v 2.2.rc2
</span><span class='line'><span class="c"># OK, keine Fehlermeldung.</span>
</span><span class='line'><span class="c"># Wechseln in&#39;s neue Verzeichnis und dann debian/changelog anpassen</span>
</span><span class='line'><span class="nb">cd</span> ../dovecot-2.2.rc2
</span><span class='line'>jmacs debian/changelog <span class="c"># Details: Siehe nachfolgender DIFF</span>
</span><span class='line'><span class="c"># Ubuntu-Paket erzeugen</span>
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># Mecker wg. fix-racey-restarts.patch</span>
</span><span class='line'><span class="c"># - Kein einziger Patch klappt</span>
</span><span class='line'><span class="c"># - Oft erscheint &#39;Reversed (or previously applied) patch detected!  Skipping patch.&#39;</span>
</span><span class='line'><span class="c"># -&gt; Wir blenden den Patch aus</span>
</span><span class='line'>quilt pop -a
</span><span class='line'>jmacs debian/patches/series <span class="c"># Details: Siehe nachfolgender DIFF</span>
</span><span class='line'><span class="c"># ... noch ein paar Iterationen wie zuvor</span>
</span><span class='line'>dpkg-buildpackage
</span><span class='line'><span class="c"># Scheitert nun ganz am Ende - pigeonhole passt nicht so richtig</span>
</span><span class='line'><span class="c"># ... wir versuchen&#39;s mit dovecot-2.1-pigeonhole-0.3.3.tar.gz</span>
</span><span class='line'><span class="c"># ... klappt auch nicht - gleicher Fehler!</span>
</span><span class='line'><span class="c"># ... dann halt mit dovecot-2.2-pigeonhole-tip</span>
</span><span class='line'><span class="c"># ... klappt besser, jetzt &quot;zickt&quot; noch DRAC</span>
</span><span class='line'><span class="c"># ... läßt sich auch leicht korrigieren</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Änderungen an debian/changelog </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -u debian/changelog~ debian/changelog</span>
</span><span class='line'><span class="gd">--- debian/changelog~    2013-03-11 09:09:19.000000000 +0100</span>
</span><span class='line'><span class="gi">+++ debian/changelog 2013-03-11 09:11:53.435109570 +0100</span>
</span><span class='line'><span class="gu">@@ -1,8 +1,8 @@</span>
</span><span class='line'><span class="gd">-dovecot (1:2.2.rc2-0ubuntu1) precise; urgency=low</span>
</span><span class='line'><span class="gi">+dovecot (1:2.2.rc2-0dp01~precise1) precise; urgency=low</span>
</span><span class='line'>
</span><span class='line'>   * New upstream release
</span><span class='line'>
</span><span class='line'><span class="gd">- -- Uli Heller &lt;uli@ubuntu1204.daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'><span class="gi">+ -- Uli Heller &lt;uli.heller@daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'>
</span><span class='line'> dovecot (1:2.0.19-0ubuntu2) precise-proposed; urgency=low
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Änderungen an debian/patches/series </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -u debian/patches/series~ debian/patches/series</span>
</span><span class='line'><span class="gd">--- debian/patches/series~   2012-06-28 23:34:08.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ debian/patches/series    2013-03-11 09:18:30.167126242 +0100</span>
</span><span class='line'><span class="gu">@@ -2,5 +2,5 @@</span>
</span><span class='line'> dovecot-drac.patch
</span><span class='line'> split-protocols.patch
</span><span class='line'> fix-mail_plugin_dir-default.patch
</span><span class='line'><span class="gd">-fix-racey-restarts.patch</span>
</span><span class='line'><span class="gi">+#fix-racey-restarts.patch</span>
</span><span class='line'> bug-1018579.patch
</span></code></pre></td></tr></table></div></figure>


<h2>Pigeonhole</h2>

<p>Pigeonhole wird seperat von Dovecot entwickelt. Ich habe die neuen Versionen heruntergeladen von
<a href="http://pigeonhole.dovecot.org/">http://pigeonhole.dovecot.org/</a>.</p>

<p>Für die DEB-Erstellung muß dann noch ein Patch dafür erzeugt werden. Das geht am besten so:</p>

<ul>
<li>Temporäre Verzeichnisse anlegen: <code>mkdir -p tmp/a tmp/b</code></li>
<li>Wechseln in&#8217;s Verzeichnis b: <code>cd tmp/b</code></li>
<li>Pigeonhole auspacken: <code>gzip -cd .../dovecot-2-2-pigeonhole-b75b00760b86.tar.gz|tar xf -</code></li>
<li>Verzeichnis umbenennen: <code>mv dove* pigeonhole</code></li>
<li>Patch erstellen: <code>cd ..; diff -Nur a b &gt;pigeonhole.patch</code></li>
</ul>


<h2>Diff</h2>

<figure class='code'><figcaption><span>dovecot_20_22.diff</span><a href='http://uli-heller.github.com/downloads/code/ubuntu/dovecot_20_22.diff' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/changelog dovecot-2.2.rc2/debian/changelog</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/changelog  2012-06-28 23:38:39.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/changelog 2013-03-11 09:23:35.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -1,3 +1,9 @@</span>
</span><span class='line'><span class="gi">+dovecot (1:2.2.rc2-0dp01~precise1) precise; urgency=low</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+  * New upstream release</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+ -- Uli Heller &lt;uli.heller@daemons-point.com&gt;  Mon, 11 Mar 2013 09:09:19 +0100</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'> dovecot (1:2.0.19-0ubuntu2) precise-proposed; urgency=low
</span><span class='line'>
</span><span class='line'>   * Fix panic and core dump, cherry picked from upstream Mercurial.
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/dovecot-drac.patch dovecot-2.2.rc2/debian/patches/dovecot-drac.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/dovecot-drac.patch 2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/dovecot-drac.patch    2013-03-11 11:20:48.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -42,7 +42,7 @@</span>
</span><span class='line'> + *   http://dovecot.org/patches/1.1/drac.c
</span><span class='line'> + */
</span><span class='line'> +#include &quot;lib.h&quot;
</span><span class='line'><span class="gd">-+#include &quot;network.h&quot;</span>
</span><span class='line'><span class="gi">++#include &quot;net.h&quot;</span>
</span><span class='line'> +#include &quot;ioloop.h&quot;
</span><span class='line'> +#include &quot;mail-user.h&quot;
</span><span class='line'> +#include &quot;mail-storage-private.h&quot;
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/fix-mail_plugin_dir-default.patch dovecot-2.2.rc2/debian/patches/fix-mail_plugin_dir-default.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/fix-mail_plugin_dir-default.patch  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/fix-mail_plugin_dir-default.patch 2013-03-11 10:55:09.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -8,11 +8,11 @@</span>
</span><span class='line'>  doc/example-config/conf.d/10-mail.conf |    2 +-
</span><span class='line'>  1 files changed, 1 insertions(+), 1 deletions(-)
</span><span class='line'>
</span><span class='line'><span class="gd">-diff --git a/doc/example-config/conf.d/10-mail.conf b/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-index fe5cc31..4b918ed 100644</span>
</span><span class='line'><span class="gd">---- a/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-+++ b/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gd">-@@ -200,7 +200,7 @@</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/doc/example-config/conf.d/10-mail.conf</span>
</span><span class='line'><span class="gi">+===================================================================</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/doc/example-config/conf.d/10-mail.conf 2013-02-22 12:20:04.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/doc/example-config/conf.d/10-mail.conf  2013-03-11 10:55:07.635357407 +0100</span>
</span><span class='line'><span class="gi">+@@ -201,7 +201,7 @@</span>
</span><span class='line'>  #auth_socket_path = /var/run/dovecot/auth-userdb
</span><span class='line'>
</span><span class='line'>  # Directory where to look up mail plugins.
</span><span class='line'><span class="gu">@@ -21,4 +21,3 @@</span>
</span><span class='line'>
</span><span class='line'>  # Space separated list of plugins to load for all services. Plugins specific to
</span><span class='line'>  # IMAP, LDA, etc. are added to this list in their own .conf files.
</span><span class='line'><span class="gd">--- </span>
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/pigeonhole.patch dovecot-2.2.rc2/debian/patches/pigeonhole.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/pigeonhole.patch   2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/pigeonhole.patch  2013-03-11 10:49:09.000000000 +0100</span>
</span><span class='line'>{not included}
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/series dovecot-2.2.rc2/debian/patches/series</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/series 2012-06-28 23:34:08.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/series    2013-03-11 09:23:47.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -2,5 +2,5 @@</span>
</span><span class='line'> dovecot-drac.patch
</span><span class='line'> split-protocols.patch
</span><span class='line'> fix-mail_plugin_dir-default.patch
</span><span class='line'><span class="gd">-fix-racey-restarts.patch</span>
</span><span class='line'><span class="gd">-bug-1018579.patch</span>
</span><span class='line'><span class="gi">+#fix-racey-restarts.patch</span>
</span><span class='line'><span class="gi">+#bug-1018579.patch</span>
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/patches/split-protocols.patch dovecot-2.2.rc2/debian/patches/split-protocols.patch</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/patches/split-protocols.patch  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/patches/split-protocols.patch 2013-03-11 10:55:06.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -12,11 +12,11 @@</span>
</span><span class='line'>  src/master/master-settings.c                       |    2 +-
</span><span class='line'>  4 files changed, 4 insertions(+), 7 deletions(-)
</span><span class='line'>
</span><span class='line'><span class="gd">-Index: dovecot/doc/example-config/dovecot.conf</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/doc/example-config/dovecot.conf</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/doc/example-config/dovecot.conf    2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/doc/example-config/dovecot.conf 2012-03-07 10:37:13.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -16,8 +16,8 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/doc/example-config/dovecot.conf    2013-01-04 20:38:41.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/doc/example-config/dovecot.conf 2013-03-11 10:54:59.779357916 +0100</span>
</span><span class='line'><span class="gi">+@@ -20,8 +20,8 @@</span>
</span><span class='line'>  # options. The paths listed here are for configure --prefix=/usr
</span><span class='line'>  # --sysconfdir=/etc --localstatedir=/var
</span><span class='line'>
</span><span class='line'><span class="gu">@@ -27,10 +27,10 @@</span>
</span><span class='line'>
</span><span class='line'>  # A comma separated list of IPs or hosts where to listen in for connections.
</span><span class='line'>  # &quot;*&quot; listens in all IPv4 interfaces, &quot;::&quot; listens in all IPv6 interfaces.
</span><span class='line'><span class="gd">-Index: dovecot/pigeonhole/doc/example-config/conf.d/20-managesieve.conf</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/pigeonhole/doc/example-config/conf.d/20-managesieve.conf</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/pigeonhole/doc/example-config/conf.d/20-managesieve.conf   2012-03-07 10:37:11.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/pigeonhole/doc/example-config/conf.d/20-managesieve.conf    2012-03-07 10:37:13.000000000 -0500</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/pigeonhole/doc/example-config/conf.d/20-managesieve.conf   2013-03-11 10:54:57.079337564 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/pigeonhole/doc/example-config/conf.d/20-managesieve.conf    2013-03-11 10:54:59.779357916 +0100</span>
</span><span class='line'> @@ -2,9 +2,6 @@
</span><span class='line'>  ## ManageSieve specific settings
</span><span class='line'>  ##
</span><span class='line'><span class="gu">@@ -40,12 +40,12 @@</span>
</span><span class='line'> -
</span><span class='line'>  # Service definitions
</span><span class='line'>
</span><span class='line'><span class="gd">- service managesieve-login {</span>
</span><span class='line'><span class="gd">-Index: dovecot/src/config/all-settings.c</span>
</span><span class='line'><span class="gi">+ #service managesieve-login {</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/src/config/all-settings.c</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/src/config/all-settings.c  2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/src/config/all-settings.c   2012-03-07 10:37:14.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -1764,7 +1764,7 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/src/config/all-settings.c  2013-02-25 14:33:27.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/src/config/all-settings.c   2013-03-11 10:54:59.783357912 +0100</span>
</span><span class='line'><span class="gi">+@@ -2433,7 +2433,7 @@</span>
</span><span class='line'>      .libexec_dir = PKG_LIBEXECDIR,
</span><span class='line'>      .instance_name = PACKAGE,
</span><span class='line'>      .import_environment = &quot;TZ&quot; ENV_SYSTEMD ENV_GDB,
</span><span class='line'><span class="gu">@@ -54,11 +54,11 @@</span>
</span><span class='line'>      .listen = &quot;*, ::&quot;,
</span><span class='line'>      .ssl = &quot;yes:no:required&quot;,
</span><span class='line'>      .default_internal_user = &quot;dovecot&quot;,
</span><span class='line'><span class="gd">-Index: dovecot/src/master/master-settings.c</span>
</span><span class='line'><span class="gi">+Index: dovecot-2.2.rc2/src/master/master-settings.c</span>
</span><span class='line'> ===================================================================
</span><span class='line'><span class="gd">---- dovecot.orig/src/master/master-settings.c   2012-03-07 08:19:52.000000000 -0500</span>
</span><span class='line'><span class="gd">-+++ dovecot/src/master/master-settings.c    2012-03-07 10:37:14.000000000 -0500</span>
</span><span class='line'><span class="gd">-@@ -213,7 +213,7 @@</span>
</span><span class='line'><span class="gi">+--- dovecot-2.2.rc2.orig/src/master/master-settings.c   2013-02-18 05:47:18.000000000 +0100</span>
</span><span class='line'><span class="gi">++++ dovecot-2.2.rc2/src/master/master-settings.c    2013-03-11 10:54:59.783357912 +0100</span>
</span><span class='line'><span class="gi">+@@ -216,7 +216,7 @@</span>
</span><span class='line'>      .libexec_dir = PKG_LIBEXECDIR,
</span><span class='line'>      .instance_name = PACKAGE,
</span><span class='line'>      .import_environment = &quot;TZ&quot; ENV_SYSTEMD ENV_GDB,
</span><span class='line'><span class="gh">diff -Nur dovecot-2.0.19/debian/rules dovecot-2.2.rc2/debian/rules</span>
</span><span class='line'><span class="gd">--- dovecot-2.0.19/debian/rules  2012-06-28 23:33:07.000000000 +0200</span>
</span><span class='line'><span class="gi">+++ dovecot-2.2.rc2/debian/rules 2013-03-11 11:20:33.000000000 +0100</span>
</span><span class='line'><span class="gu">@@ -47,7 +47,7 @@</span>
</span><span class='line'>              --disable-static
</span><span class='line'>  $(MAKE) dovecot-config
</span><span class='line'>  # Pigeonhole
</span><span class='line'><span class="gd">-    (cd $(PIGEONHOLE_DIR)/ &amp;&amp; \</span>
</span><span class='line'><span class="gi">+    (cd $(PIGEONHOLE_DIR)/ &amp;&amp; sh ./autogen.sh \</span>
</span><span class='line'>      touch stamp.h.in &amp;&amp; \
</span><span class='line'>      $(shell dpkg-buildflags --export=configure) sh configure \
</span><span class='line'>      --with-dovecot=../ \
</span><span class='line'><span class="gu">@@ -105,7 +105,7 @@</span>
</span><span class='line'>  install -m644 debian/dovecot-core.ufw.profile debian/dovecot-core/etc/ufw/applications.d/dovecot-core
</span><span class='line'>  install -D -m 0755 -o root -g root $(CURDIR)/debian/maildirmake.dovecot $(CURDIR)/debian/dovecot-core/usr/bin/maildirmake.dovecot
</span><span class='line'>  mv $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core
</span><span class='line'><span class="gd">-    cp $(PIGEONHOLE_DIR)/ChangeLog $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.ChangeLog</span>
</span><span class='line'><span class="gi">+    #cp $(PIGEONHOLE_DIR)/ChangeLog $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.ChangeLog</span>
</span><span class='line'>  cp $(PIGEONHOLE_DIR)/README $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.README
</span><span class='line'>  cp $(PIGEONHOLE_DIR)/NEWS $(CURDIR)/debian/dovecot-core/usr/share/doc/dovecot-core/pigeonhole.NEWS
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>

<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/11/dovecot/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Octopress-Aktualisierung 1/2 - Grundtests]]></title>
<link href="http://uli-heller.github.com/2013/03/11/octopress-aktualisierung/"/>
<updated>2013-03-11T08:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/11/octopress-aktualisierung</id>

      <content type="html"><![CDATA[<h1>Aktualisierung meiner Octopress-Installation (1/2)</h1>

<p>Vor grob 5 Monaten habe ich Octopress erstmalig aufgesetzt und seitdem die
Finger von den Aktualisierungen gelassen. Dadurch funktionieren in &#8220;meiner&#8221; Installation
nun gewisse Dinge nicht ganz so gut wir im Original. Beispielsweise soll die Verlinkung
von Blog-Posts im Original über einen Methodenaufruf funktionieren, bei meiner Variante
muß ich mir den Link mühsam zusammenklauben.</p>

<p>Erstmal möchte ich testen, ob die aktualisierte Version überhaupt funktioniert. Diese Tests
mache ich mit &#8220;master&#8221; und &#8220;source-2.1&#8221;.</p>

<!-- more -->


<h2>Aktuelle Octopress-Version runterladen</h2>

<figure class='code'><figcaption><span>Octropress runterladen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git branch -a
</span><span class='line'>  * master
</span><span class='line'>    remotes/origin/2.1
</span><span class='line'>    remotes/origin/HEAD -&gt; origin/master
</span><span class='line'>    remotes/origin/colorize
</span><span class='line'>    remotes/origin/gh-pages
</span><span class='line'>    remotes/origin/guard
</span><span class='line'>    remotes/origin/linklog
</span><span class='line'>    remotes/origin/master
</span><span class='line'>    remotes/origin/migrator
</span><span class='line'>    remotes/origin/refactor_with_tests
</span><span class='line'>    remotes/origin/rubygemcli
</span><span class='line'>    remotes/origin/site
</span><span class='line'>    remotes/origin/site-2.1
</span></code></pre></td></tr></table></div></figure>


<h2>Kurztest Octopress-2.0</h2>

<figure class='code'><figcaption><span>Kurztest Octropress-2.0 </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span><span class='line'>rake generate
</span><span class='line'>rake preview
</span></code></pre></td></tr></table></div></figure>


<p>&#8230; danach dann im Browser den Link <a href="http://localhost:4000">http://localhost:4000</a> öffnen - es
wird die Octopress-Grundseite angezeigt.</p>

<h2>Kurztest Octopress-2.1</h2>

<figure class='code'><figcaption><span>Kurztest Octropress-2.1 - Mecker wegen JavaScript runtime </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git checkout 2.1
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span><span class='line'>  rake aborted!
</span><span class='line'>  Could not find a JavaScript runtime. See https://github.com/sstephenson/execjs <span class="k">for </span>a list of available runtimes.
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs/runtimes.rb:51:in <span class="sb">`</span>autodetect<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs.rb:5:in `&lt;module:ExecJS&gt;&#39;</span>
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/execjs-1.4.0/lib/execjs.rb:4:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/uglifier-1.2.6/lib/uglifier.rb:3:in `require&#39;</span>
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/gems/uglifier-1.2.6/lib/uglifier.rb:3:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/lib/octopress/js_asset_manager.rb:4:in `require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/lib/octopress/js_asset_manager.rb:4:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/lib/octopress.rb:5:in `require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/lib/octopress.rb:5:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/tmp/o/octopress/Rakefile:9:in `require&#39;</span>
</span><span class='line'>  /home/uli/tmp/o/octopress/Rakefile:9:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">  /home/uli/.rvm/gems/ruby-1.9.3-p327/bin/ruby_noexec_wrapper:14:in `eval&#39;</span>
</span><span class='line'>  /home/uli/.rvm/gems/ruby-1.9.3-p327/bin/ruby_noexec_wrapper:14:in <span class="sb">`</span>&lt;main&gt;<span class="err">&#39;</span>
</span><span class='line'>  <span class="o">(</span>See full trace by running task with --trace<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8230; funktioniert also nicht so richtig.</p>

<p>Am einfachsten korrigiert man&#8217;s durch Anpassung vom Gemfile:</p>

<figure class='code'><figcaption><span>Anpassungen am Gemfile </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff --git a/Gemfile b/Gemfile</span>
</span><span class='line'><span class="gu">@@ -15,6 +15,7 @@</span>
</span><span class='line'> group :development do
</span><span class='line'>   gem &#39;tzinfo&#39;, &#39;~&gt; 0.3.35&#39;
</span><span class='line'>   gem &#39;stitch-rb&#39;
</span><span class='line'>   gem &#39;uglifier&#39;
</span><span class='line'><span class="gi">+  gem &#39;therubyracer&#39;</span>
</span><span class='line'>
</span><span class='line'>   # Guard related
</span><span class='line'>   gem &#39;guard&#39;
</span></code></pre></td></tr></table></div></figure>


<p>Danach dann <code>bundle install</code> und alles wird gut! Nach <code>rake install</code>, <code>rake generate</code>
und <code>rake preview</code> kann man wie üblich
im Browser den Link <a href="http://localhost:4000">http://localhost:4000</a> öffnen und es
wird die Octopress-Grundseite angezeigt.</p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/11/octopress-aktualisierung/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Chrome-Erweiterungen - Teil 2/2: CRX-Dateien einspielen]]></title>
<link href="http://uli-heller.github.com/2013/03/07/crx-install/"/>
<updated>2013-03-07T12:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/07/crx-install</id>

      <content type="html"><![CDATA[<h1>Offline-Installation einer Chrome-Erweiterung - Teil 2: CRX-Dateien einspielen</h1>

<p>Hier beschreibe ich kurz, wie man CRX-Dateien in Google-Chrome einspielt.
Die CRX-Dateien müssen zuvor heruntergeladen worden sein, siehe hierzu
<a href="http://uli-heller.github.com/2013/03/04/chrome-extensions">CRX-Dateien herunterladen</a>.
Getestet hab&#8217; ich&#8217;s mit Google-Chrome 25 unter Linux.</p>

<!-- more -->


<p>Zunächst muß in Google-Chrome das Erweiterungsfenster geöffnet werden über
&#8220;Einstellungen&#8221; - &#8220;Tools&#8221; - &#8220;Erweiterungen&#8221;:</p>

<p><img src="http://uli-heller.github.com/images/chrome/chrome-extensions-1.png" alt="Menü: Erweiterungen" /></p>

<p>Nach dem Betätigen des Menüpunktes erscheint dieses Fenster:</p>

<p><img src="http://uli-heller.github.com/images/chrome/chrome-extensions-2.png" alt="Erweiterungen" /></p>

<p>Als nächstes: CRX-Datei in Nautilus selektieren und auf das
Google-Chrome-Erweiterungsfenster &#8220;fallen lassen&#8221;. Am unteren Rand
erscheint ein Bestätigungsdialog:</p>

<p><img src="http://uli-heller.github.com/images/chrome/chrome-extensions-3.png" alt="Bestätigung" /></p>

<p>Nachdem die Installationserlaubnis erteilt ist, wird die neue
Erweiterung als &#8220;installiert&#8221; und &#8220;aktiviert&#8221; angezeigt:</p>

<p><img src="http://uli-heller.github.com/images/chrome/chrome-extensions-4.png" alt="Aktivierte Erweiterung" /></p>

<p>Bei mir gibt&#8217;s Probleme, wenn ich nun direkt noch eine weitere CRX-Datei
einspielen möchte. Sie &#8220;landet&#8221; dann einfach nicht im Erweiterungsfenster.
Abhilfe schafft schließen und neu öffnen des Fensters.</p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/07/crx-install/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Chrome-Erweiterungen - Teil 1/2: CRX-Dateien herunterladen]]></title>
<link href="http://uli-heller.github.com/2013/03/04/chrome-extensions/"/>
<updated>2013-03-04T07:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/03/04/chrome-extensions</id>

      <content type="html"><![CDATA[<h1>Offline-Installation einer Chrome-Erweiterung - Teil 1: CRX-Dateien herunterladen</h1>

<p>Mein aktueller Lieblingsbrowser ist zur Zeit Google-Chrome. Dumm nur, wenn
bei manchen Unternehmen der ausgehende Internet-Verkehr so gefiltert wird,
dass nur manch andere Browser (beispielsweise Internet Explorer) zugelassen
sind.</p>

<!-- more -->


<p>Ein paar Tests zeigen, dann man durch Setzen des &#8220;User-Agents&#8221; relativ
einfach auch mit Google-Chrome arbeiten kann. Den &#8220;User-Agent&#8221; setzt man
in Google-Chrome auf diese Weise:</p>

<ul>
<li>Tools - Entwicklertools</li>
<li>Settings (ganz unten rechts)</li>
<li>Overrides - User Agent

<ul>
<li>aktivieren</li>
<li>gewünschten User-Agent auswählen</li>
</ul>
</li>
</ul>


<p>Grundsätzlich funktioniert dies, nur muß man die Einstellungen bei
jedem Start von Google-Chrome neu durchführen. Zum Glück gibt&#8217;s ja
Erweiterungen wie
<a href="https://chrome.google.com/webstore/detail/ultimate-user-agent-switc/ljfpjnehmoiabkefmnjegmpdddgcdnpo">Ultimate User Agent Switcher, URL sniffer</a>,
die die Handhabung deutlich verbessern. Leider funktioniert
der Zugriff auf Google-Play nicht, er wird bei meinem Unternehmen
offenbar separat geblockt.</p>

<p>Also: Wir brauchen eine Möglichkeit, Erweiterungen für Google-Chrome
ohne Zugriff auf Google-Play zu installieren.</p>

<h2>Verpacken und Entpacken - geht leider nicht</h2>

<p>Erste Versuche laufen so:</p>

<ul>
<li>Rechner A:

<ul>
<li>Wechseln in&#8217;s Erweiterungsgrundverzeichnis</li>
<li>Verpacken einer installierten Erweiterung</li>
</ul>
</li>
<li>Rechner B:

<ul>
<li>Wechseln in&#8217;s Erweiterungsgrundverzeichnis</li>
<li>Entpacken einer installierten Erweiterung</li>
</ul>
</li>
</ul>


<p>Leider funktioniert dies nicht. Google-Chrome auf Rechner B scheint
zu erkennen, dass ihm eine Erweiterung untergeschoben werden soll.
Sie wird ignoriert und gelöscht beim Start von Google-Chrome.</p>

<h2>Runterladen mittels Skript</h2>

<ul>
<li>Ermitteln der Applikations-Id</li>
<li><code>./get-crx.sh ljfpjnehmoiabkefmnjegmpdddgcdnpo</code>: Ultimate-User-Agent-Switcher,-URL-sniffer_v0.9.2.2.crx</li>
<li><code>./get-crx.sh loljledaigphbcpfhfmgopdkppkifgno</code>: Lazarus:_Form_Recovery-3.0.5.crx</li>
</ul>


<p>Das Skript <code>get-crx.sh</code> verwendet intern den Json-Parser
<a href="https://github.com/dominictarr/JSON.sh/blob/master/JSON.sh">JSON.SH</a></p>

<p>Die beiden Skripte liegen hier:</p>

<ul>
<li><a href="http://uli-heller.github.com/downloads/code/get-crx.sh">get-crx.sh</a></li>
<li><a href="http://uli-heller.github.com/downloads/code/JSON.sh">JSON.sh</a> (wird nicht separat benötigt)</li>
</ul>


<p>Einfach <a href="http://uli-heller.github.com/downloads/code/get-crx.sh">get-crx.sh</a>
in einem Verzeichnis ablegen und &#8220;ausführbar machen&#8221;
(bspw. mit <code>chmod +x *.sh</code>),
dann sollte es funktionieren.
Ach ja: <a href="http://www.gnu.org/software/wget/">wget</a> muß
installiert sein&#8230;</p>

<h2>Runterladen mittels <a href="http://chrome-extension-downloader.com/">Chrome Extension Downloader</a></h2>

<p><img src="http://uli-heller.github.com/images/chrome/chrome-extension-downloader.png" alt="ChromeExtensionDownloader" /></p>

<ul>
<li>Ermitteln der Applikations-Id</li>
<li>Öffnen von <a href="http://chrome-extension-downloader.com/">Chrome Extension Downloader</a> im Browser</li>
<li>Applikations-Id eingeben</li>
<li>&#8220;Download extension&#8221;</li>
<li>Das war&#8217;s</li>
</ul>


<h2>Ermitteln der Applikations-Id</h2>

<ul>
<li>Browser: [Chrome Web Store]/https://chrome.google.com/webstore/category/extensions?utm_source=chrome-ntp-icon) öffnen</li>
<li>Gewünschte Erweiterung suchen und Details anzeigen</li>
<li>Applikations-Id ist nun in der Adresszeile sichtbar (siehe Bildchen)</li>
</ul>


<p><img src="http://uli-heller.github.com/images/chrome/chrome-application-id-2.png" alt="ChromeWebShop - Applikations-Id" /></p>

<h2>Links:</h2>

<ul>
<li><a href="http://blog.gerardin.info/archives/763">Download Chrome extension from other browser (for offline installation)</a></li>
<li><a href="https://chrome.google.com/webstore/detail/ultimate-user-agent-switc/ljfpjnehmoiabkefmnjegmpdddgcdnpo">Ultimate User Agent Switcher, URL sniffer</a></li>
<li><a href="http://chrome-extension-downloader.com/">Chrome Extension Downloader</a></li>
<li><a href="http://thameera.wordpress.com/2011/10/29/downloading-the-crx-of-a-chrome-extension/">Downloading the CRX of a Chrome extension</a></li>
</ul>


<h2>Notizen:</h2>

<ul>
<li>Linux: /home/username/.config/google-chrome/Default/Extensions</li>
<li>Mac: /Users/username/Library/Application Support/Google/Chrome/Default/Extensions</li>
<li>Windows 7: C:\Users\username\AppData\Local\Google\Chrome\User Data\Default\Extensions</li>
<li>Windows XP: C:\Documents and Settings\YourUserName\Local Settings\Application Data\Google\Chrome\User Data\Default</li>
</ul>

<p><a rel="bookmark" href="http://uli-heller.github.com/2013/03/04/chrome-extensions/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Neuer Kernel für Ubuntu-12.04]]></title>
<link href="http://uli-heller.github.com/2013/02/20/prercise-hardware-enablement/"/>
<updated>2013-02-20T07:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/02/20/prercise-hardware-enablement</id>

      <content type="html"><![CDATA[<h1>Kommt ein Kernel geflogen &#8230; Hardware Enablement Stack für Ubuntu-12.04</h1>

<p>Eben hab&#8217; ich mir die Zeit genommen und die
<a href="https://wiki.ubuntu.com/PrecisePangolin/ReleaseNotes/UbuntuDesktop">Ankündigung für Ubuntu-12.04.2</a>
ein wenig näher angeschaut. Offenbar gibt&#8217;s im Zuge des
<a href="https://wiki.ubuntu.com/Kernel/LTSEnablementStack">LTS Enablement Stacks</a> einen
neuen Kernel (3.5 statt 3.2). Dieser soll die Verwendung von neueren Geräten
ermöglichen.</p>

<p>Eigentlich bin ich mit dem Alt-Kernel recht zufrieden. Alle meine
Rechner laufen - sogar der Problemfall eines AMD-basierten Samsung-Notebooks.
Bei diesem mußte ich allerdings den Grafiktreiber selbst kompilieren, der bei
12.04 ausgelieferte Treiber unterstützt die verbaute Radeon-Karte nicht.</p>

<!-- more -->


<p>Trotzdem habe ich vor, den neuen Kernel einfach mal auszuprobieren.
Mit etwas Glück läuft er ja genauso gut wie der alte und eventuell
bringt der LTS Enablement Stack ja auch einen funktionierenden
Grafiktreiber für das Samsung-Notebook mit und erspart mit so etwas Arbeit.</p>

<p>Eingespielt werden die ganzen Pakete so:</p>

<p><code>
sudo apt-get install linux-generic-lts-quantal xserver-xorg-lts-quantal
</code></p>

<p>Da ich eine langsame Internetanbindung habe, dauert das ewig.
Danach habe ich den Rechner einfach neu gestartet und siehe da: Alles
funktioniert noch genauso, wie zuvor. Sogar VirtualBox läuft.</p>

<p>Jetzt sammle ich noch etwas Mut, dann spiele ich&#8217;s auch auf dem
Samsung-Notebook ein.</p>

<h2>Nachtrag</h2>

<p>Leider gibt&#8217;s jetzt doch ein paar negative Auffälligkeiten:</p>

<ul>
<li>Nach dem &#8220;Aufwachen&#8221; aus &#8220;Bereitschaft&#8221; laufen die Lüfter auf Höchstdrehzahl.
Beobachtet habe ich dies auf meinem HP-Desktop. Mein Sony-Notebook hat
diese Probleme nicht.</li>
<li>Starten mit dem alten 3.2-er-Kernel funktioniert nicht mehr - man sieht
scheinbar die Konsole mit Mauszeiger und kann keine Eingaben vornehmen</li>
</ul>


<p>Positiv: Ich habe mich nun getraut, das Samsung-Problem-Notebook mit der
Aktualisierung zu versehen. Grundsätzlich läuft&#8217;s damit deutlich besser:</p>

<ul>
<li>&#8220;Bereitschaft&#8221; und &#8220;Aufwachen&#8221; funktioniert tadellos</li>
<li>Die WLAN-Karte bucht sich nun deutlich schneller in&#8217;s Netzwerk ein</li>
<li>Die Akku-Laufzeit ist deutlich länger</li>
</ul>


<p>Negativ bleibt nur die längere Startzeit zu erwähnen, also insgesamt alles gut!</p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2013/02/20/prercise-hardware-enablement/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Patchverwaltung mit Quilt]]></title>
<link href="http://uli-heller.github.com/2013/02/15/quilt/"/>
<updated>2013-02-15T18:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/02/15/quilt</id>

      <content type="html"><![CDATA[<h1>Ubuntu-Pakete aktualisieren - Patchverwaltung mit Quilt</h1>

<p>Heute hatte ich die Idee, eine neue Version von NGINX zu erzeugen.
Grob sollte es nach diesem Muster klappen:</p>

<figure class='code'><figcaption><span>Paket aktualisieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Quellen zum Ubuntu-Paket runterladen</span>
</span><span class='line'>apt-get <span class="nb">source </span>nginx
</span><span class='line'><span class="c"># Aktuelle Nginx-Quellen runterladen</span>
</span><span class='line'>wget -c http://nginx.org/download/nginx-1.2.7.tar.gz
</span><span class='line'><span class="c"># Paket aktualisieren</span>
</span><span class='line'><span class="nb">cd </span>nginx-1.1.19
</span><span class='line'>uupdate -u ../nginx-1.2.7.tar.gz
</span><span class='line'><span class="nb">cd</span> ..
</span><span class='line'><span class="c"># Paket neu erzeugen</span>
</span><span class='line'><span class="nb">cd </span>nginx-1.2.7
</span><span class='line'>dpkg-buildpackage
</span></code></pre></td></tr></table></div></figure>


<p>Danach sollten die neuen Paketdateien bereit zur Installation sein.</p>

<h2>Fatales Problem</h2>

<p>Leider klappt&#8217;s nicht, es gibt fatale Fehlermeldungen:</p>

<figure class='code'><figcaption><span>Fatale Fehler bei der Paketerzeugung </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>uli@ubuntu-120464:/build/nginx/nginx-1.2.7<span class="nv">$ </span>dpkg-buildpackage
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>CFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -g -O2 -fstack-protector --param<span class="o">=</span>ssp-buffer-size<span class="o">=</span>4 -Wformat -Wformat-security
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>CPPFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -D_FORTIFY_SOURCE<span class="o">=</span>2
</span><span class='line'>...
</span><span class='line'> dpkg-source -b nginx-1.2.7
</span><span class='line'>dpkg-source: Information: Quellformat »3.0 <span class="o">(</span>quilt<span class="o">)</span>« wird verwendet
</span><span class='line'>dpkg-source: Information: nginx wird unter Benutzung des existierenden ./nginx_1.2.7.orig.tar.gz gebaut
</span><span class='line'>patching file src/http/modules/perl/Makefile.PL
</span><span class='line'>Hunk <span class="c">#2 FAILED at 14.</span>
</span><span class='line'>1 out of 2 hunks FAILED -- saving rejects to file src/http/modules/perl/Makefile.PL.rej
</span><span class='line'>dpkg-source: Fehler: Fehler-Exitstatus von <span class="nv">LC_ALL</span><span class="o">=</span>C patch -t -F 0 -N -p1 -u -V never -g0 -E -b -B .pc/perl-use-dpkg-buildflags.patch/ &lt; nginx-1.2.7.orig.OjasVr/debian/patches/perl-use-dpkg-buildflags.patch war 1
</span><span class='line'>dpkg-buildpackage: Fehler: Fehler-Exitstatus von dpkg-source -b nginx-1.2.7 war 2
</span></code></pre></td></tr></table></div></figure>


<h2>Korrektur</h2>

<p>In der Fehlermeldung erkennt man den Hinweis auf das Werkzeug QUILT.
Dieses verwaltet die Anpassungsdateien (patches) und kann auch zur Korrektur
der fehlerhaften Anpassungen verwendet werden.</p>

<p>Hier der Korrekturablauf:</p>

<figure class='code'><figcaption><span>Patch aktualisieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">export </span><span class="nv">QUILT_PATCHES</span><span class="o">=</span>debian/patches
</span><span class='line'>quilt push -f <span class="c"># ... eigentlich hätte ich hier einen Fehler erwartet,</span>
</span><span class='line'><span class="c">#  stattdessen erscheint eine Meldung mit &quot;succeeded with fuzz...&quot;</span>
</span><span class='line'><span class="c">#  Glück gehabt!</span>
</span><span class='line'>quilt refresh
</span><span class='line'>quilt pop -a
</span><span class='line'>dpkg-buildpackage
</span></code></pre></td></tr></table></div></figure>


<p>Nun läuft die Erzeugung durch, DEB-Dateien werden erstellt.</p>

<h2>Notizen</h2>

<h3>Diverse Befehle</h3>

<ul>
<li><code>sudo apt-get install devscripts</code></li>
<li><code>sudo apt-get build-dep nginx</code></li>
</ul>


<h3>Protokoll</h3>

<figure class='code'><figcaption><span>Protokoll: Fehler und Korrektur </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>uli@ubuntu1204:/build/nginx/nginx-1.2.7<span class="nv">$ </span>dpkg-buildpackage
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>CFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -g -O2 -fstack-protector --param<span class="o">=</span>ssp-buffer-size<span class="o">=</span>4 -Wformat -Wformat-security
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>CPPFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -D_FORTIFY_SOURCE<span class="o">=</span>2
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>CXXFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -g -O2 -fstack-protector --param<span class="o">=</span>ssp-buffer-size<span class="o">=</span>4 -Wformat -Wformat-security
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>FFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -g -O2
</span><span class='line'>dpkg-buildpackage: <span class="nb">export </span>LDFLAGS from dpkg-buildflags <span class="o">(</span>origin: vendor<span class="o">)</span>: -Wl,-Bsymbolic-functions -Wl,-z,relro
</span><span class='line'>dpkg-buildpackage: <span class="nb">source </span>package nginx
</span><span class='line'>dpkg-buildpackage: <span class="nb">source </span>version 1.2.7-0dp01~precise1
</span><span class='line'>dpkg-buildpackage: <span class="nb">source </span>changed by Uli Heller &lt;uli.heller@daemons-point.com&gt;
</span><span class='line'>dpkg-buildpackage: host architecture i386
</span><span class='line'> dpkg-source --before-build nginx-1.2.7
</span><span class='line'> fakeroot debian/rules clean
</span><span class='line'>dh_testdir
</span><span class='line'>dh_testroot
</span><span class='line'>rm -f build-stamp
</span><span class='line'>rm -f config.sub config.guess
</span><span class='line'>dh_clean
</span><span class='line'>rm -rf /build/nginx/nginx-1.2.7/debian/modules/naxsi
</span><span class='line'>rm -rf /build/nginx/nginx-1.2.7/debian/build-*
</span><span class='line'> dpkg-source -b nginx-1.2.7
</span><span class='line'>dpkg-source: info: using <span class="nb">source </span>format <span class="sb">`</span>3.0 <span class="o">(</span>quilt<span class="o">)</span><span class="err">&#39;</span>
</span><span class='line'>dpkg-source: info: building nginx using existing ./nginx_1.2.7.orig.tar.gz
</span><span class='line'>patching file src/http/modules/perl/Makefile.PL
</span><span class='line'>Hunk <span class="c">#2 FAILED at 14.</span>
</span><span class='line'>1 out of 2 hunks FAILED -- saving rejects to file src/http/modules/perl/Makefile.PL.rej
</span><span class='line'>dpkg-source: error: <span class="nv">LC_ALL</span><span class="o">=</span>C patch -t -F 0 -N -p1 -u -V never -g0 -E -b -B .pc/perl-use-dpkg-buildflags.patch/ &lt; nginx-1.2.7.orig.G94ZuW/debian/patches/perl-use-dpkg-buildflags.patch gave error <span class="nb">exit </span>status 1
</span><span class='line'>dpkg-buildpackage: error: dpkg-source -b nginx-1.2.7 gave error <span class="nb">exit </span>status 2
</span><span class='line'>uli@ubuntu1204:/build/nginx/nginx-1.2.7<span class="nv">$ </span><span class="nb">export </span><span class="nv">QUILT_PATCHES</span><span class="o">=</span>debian/patches
</span><span class='line'>uli@ubuntu1204:/build/nginx/nginx-1.2.7<span class="nv">$ </span>quilt push -f
</span><span class='line'>Applying patch perl-use-dpkg-buildflags.patch
</span><span class='line'>patching file src/http/modules/perl/Makefile.PL
</span><span class='line'>Hunk <span class="c">#2 succeeded at 14 with fuzz 1.</span>
</span><span class='line'>
</span><span class='line'>Now at patch perl-use-dpkg-buildflags.patch
</span><span class='line'>uli@ubuntu1204:/build/nginx/nginx-1.2.7<span class="nv">$ </span>quilt refresh
</span><span class='line'>Refreshed patch perl-use-dpkg-buildflags.patch
</span><span class='line'>uli@ubuntu1204:/build/nginx/nginx-1.2.7<span class="nv">$ </span>quilt pop -a
</span><span class='line'>Removing patch perl-use-dpkg-buildflags.patch
</span><span class='line'>Restoring src/http/modules/perl/Makefile.PL
</span><span class='line'>
</span><span class='line'>No patches applied
</span></code></pre></td></tr></table></div></figure>



<p><a rel="bookmark" href="http://uli-heller.github.com/2013/02/15/quilt/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Rails-2.3.17]]></title>
<link href="http://uli-heller.github.com/2013/02/14/redmine-rails-update/"/>
<updated>2013-02-14T06:10:00+01:00</updated>
<id>http://uli-heller.github.com/2013/02/14/redmine-rails-update</id>

      <content type="html"><![CDATA[<h1>Rails-Update für Redmine-1.2</h1>

<p>Leider ist schon wieder eine <a href="http://www.heise.de/security/meldung/Neues-Sicherheits-Update-fuer-Ruby-on-Rails-1802557.html">Sicherheitslücke</a> in Rails
entdeckt worden.</p>

<p>Analog zur Aktualisierung auf 2.3.15 erfolgt nun die auf 2.3.17:</p>

<ul>
<li>Gems runterladen und auf Redmine-Rechner kopieren</li>
<li>Betriebssystem aktualisieren</li>
<li>Gems einspielen</li>
<li>Alte Gems löschen</li>
</ul>


<h2>Gems herunterladen und zum Redmine-Server übertragen</h2>

<p>Der Redmine-Server hat keinen Zugang zum Internet. Deshalb müssen die Gems
auf einem anderen Rechner heruntergeladen und zum Redmine-Server übertragen
werden.</p>

<figure class='code'><figcaption><span>get-2.3.17.sh</span><a href='http://uli-heller.github.com/downloads/code/get-2.3.17.sh' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.17
</span><span class='line'>
</span><span class='line'>fetch<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="o">(</span>
</span><span class='line'>  <span class="nv">GN</span><span class="o">=</span><span class="s2">&quot;$1-$2.gem&quot;</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">[</span> ! -s <span class="s2">&quot;${GN}&quot;</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">    </span>gem fetch <span class="s2">&quot;$1&quot;</span> -v <span class="s2">&quot;$2&quot;</span>
</span><span class='line'>  <span class="k">fi</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>i in actionmailer actionpack activerecord activeresource activesupport rails; <span class="k">do</span>
</span><span class='line'><span class="k">  </span>fetch <span class="s2">&quot;${i}&quot;</span> <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>fetch rack 1.1.3
</span></code></pre></td></tr></table></div></figure>


<p>Die Dateien werden danach mit SCP auf den Redmine-Server übertragen.</p>

<h2>Basissystem aktualisieren</h2>

<figure class='code'><figcaption><span>Basissystem aktualisieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>apt-get update
</span><span class='line'>apt-get upgrade
</span><span class='line'>apt-get dist-upgrade
</span></code></pre></td></tr></table></div></figure>


<h2>Gems einspielen</h2>

<figure class='code'><figcaption><span>Gems einspielen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem install rails-2.3.17.gem
</span></code></pre></td></tr></table></div></figure>


<h2>Alte Gems deininstallieren</h2>

<figure class='code'><figcaption><span>uninstall-2.3.15.sh</span><a href='http://uli-heller.github.com/downloads/code/uninstall-2.3.15.sh' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.15
</span><span class='line'>
</span><span class='line'>gem uninstall rails -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionmailer -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionpack -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activerecord -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activeresource -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activesupport -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="c">#gem uninstall rack -v 1.1.1</span>
</span></code></pre></td></tr></table></div></figure>

<p><a rel="bookmark" href="http://uli-heller.github.com/2013/02/14/redmine-rails-update/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[GitHub - Downloads]]></title>
<link href="http://uli-heller.github.com/2013/02/12/github-downloads/"/>
<updated>2013-02-12T08:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/02/12/github-downloads</id>

      <content type="html"><![CDATA[<h1>GitHub - Anlegen eines Download-Bereichs</h1>

<p>Ende 2012 sorgte GitHub bei mir für einige Verwirrung, indem
die Möglichkeit des Bereitstellens von Download-Dateien abgeschafft wurde.</p>

<p>Als Notbehelf verwende ich aktuell einfach einen speziellen Zweig namens
&#8220;downloads&#8221; und lege dann die runterladbaren Dateien darin ab.</p>

<h2>Download-Zweig anlegen</h2>

<p>Den Download-Zweig legt man grob so an:</p>

<ul>
<li>Sicherstellen: Alle Dateien sind gespeichert in Git! (mittels: <code>git status</code>)</li>
<li>Neuen Zweig anlegen und leeren</li>
<li>README.txt erzeugen mit einer kurzen Beschreibung</li>
<li>README.txt in Git abspeichern</li>
<li>Zweig nach GitHub hochschieben</li>
</ul>


<figure class='code'><figcaption><span>Download-Zweig anlegen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git checkout master
</span><span class='line'><span class="nv">$ </span>git status
</span><span class='line'><span class="c"># On branch master</span>
</span><span class='line'>nothing to commit, working directory clean
</span><span class='line'><span class="nv">$ </span>git checkout --orphan downloads
</span><span class='line'><span class="nv">$ </span>git rm -rf .
</span><span class='line'><span class="nv">$ </span>jmacs README.txt <span class="c"># Enter description of the branch</span>
</span><span class='line'><span class="nv">$ </span>git add README.txt
</span><span class='line'><span class="nv">$ </span>git commit -m <span class="s2">&quot;Created branch: downloads&quot;</span>
</span><span class='line'><span class="nv">$ </span>git push --set-upstream origin downloads
</span><span class='line'><span class="nv">$ </span>git checkout master
</span></code></pre></td></tr></table></div></figure>


<h2>Dateien ablegen</h2>

<figure class='code'><figcaption><span>Dateien ablegen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git checkout downloads
</span><span class='line'><span class="nv">$ </span>cp .../my-project-0.1-bin.tar.xz .
</span><span class='line'><span class="nv">$ </span>cp .../my-project-0.1-bin.zip .
</span><span class='line'><span class="nv">$ </span>git add my-project-0.1-bin.tar.xz my-project-0.1-bin.zip
</span><span class='line'><span class="nv">$ </span>git commit -m <span class="s2">&quot;Added downloads of version 0.1&quot;</span> .
</span><span class='line'><span class="nv">$ </span>git push <span class="c"># might take some time depending on your internet connection bandwidth</span>
</span><span class='line'><span class="nv">$ </span>git checkout master <span class="c"># switch back to master</span>
</span></code></pre></td></tr></table></div></figure>



<p><a rel="bookmark" href="http://uli-heller.github.com/2013/02/12/github-downloads/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Rails-2.3.15]]></title>
<link href="http://uli-heller.github.com/2013/01/11/redmine-rails-update/"/>
<updated>2013-01-11T07:00:00+01:00</updated>
<id>http://uli-heller.github.com/2013/01/11/redmine-rails-update</id>

      <content type="html"><![CDATA[<h1>Rails-Update für Redmine-1.2</h1>

<h2>Einleitung</h2>

<p>Auf einem etwas älteren Linux-Server betreibe ich eine fast genauso alte
<a href="http://redmine.org">Redmine</a>-Instanz. Redmine ist eine
<a href="http://rubyonrails.org">Rails</a>-Anwendung und
weil ich so eine alte Version davon verwende, ist die Rails-Version anfällig
gegen die diese Woche entdeckten kritischen
<a href="http://weblog.rubyonrails.org/2013/1/8/Rails-3-2-11-3-1-10-3-0-19-and-2-3-15-have-been-released/">Schwachstellen</a>.</p>

<p>Redmine selbst kann zur Zeit nicht auf die aktuelle Version 2.2 aktualisiert
werden, weil ich ältere, mit der neuen Version nicht verträgliche Plugins
verwende. Also heißt die Strategie: Redmine beibehalten, Rails aktualisieren
auf Version 2.3.15.</p>

<h2>Gems herunterladen und zum Redmine-Server übertragen</h2>

<p>Der Redmine-Server hat keinen Zugang zum Internet. Deshalb müssen die Gems
auf einem anderen Rechner heruntergeladen und zum Redmine-Server übertragen
werden.</p>

<figure class='code'><figcaption><span>get-2.3.15.sh</span><a href='http://uli-heller.github.com/downloads/code/get-2.3.15.sh' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.15
</span><span class='line'>
</span><span class='line'>fetch<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="o">(</span>
</span><span class='line'>  <span class="nv">GN</span><span class="o">=</span><span class="s2">&quot;$1-$2.gem&quot;</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">[</span> ! -s <span class="s2">&quot;${GN}&quot;</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">    </span>gem fetch <span class="s2">&quot;$1&quot;</span> -v <span class="s2">&quot;$2&quot;</span>
</span><span class='line'>  <span class="k">fi</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>i in actionmailer actionpack activerecord activeresource activesupport rails; <span class="k">do</span>
</span><span class='line'><span class="k">  </span>fetch <span class="s2">&quot;${i}&quot;</span> <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>fetch rack 1.1.3
</span></code></pre></td></tr></table></div></figure>


<p>Die Dateien werden danach mit SCP auf den Redmine-Server übertragen.</p>

<h2>Basissystem aktualisieren</h2>

<figure class='code'><figcaption><span>Basissystem aktualisieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>apt-get update
</span><span class='line'>apt-get upgrade
</span><span class='line'>apt-get dist-upgrade
</span></code></pre></td></tr></table></div></figure>


<h2>Gems einspielen</h2>

<figure class='code'><figcaption><span>Gems einspielen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>gem install rails-2.3.15.gem
</span></code></pre></td></tr></table></div></figure>


<h2>Alte Gems deininstallieren</h2>

<figure class='code'><figcaption><span>uninstall-2.3.11.sh</span><a href='http://uli-heller.github.com/downloads/code/uninstall-2.3.11.sh' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="nv">VERSION</span><span class="o">=</span>2.3.11
</span><span class='line'>
</span><span class='line'>gem uninstall rails -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionmailer -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall actionpack -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activerecord -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activeresource -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall activesupport -v <span class="s2">&quot;${VERSION}&quot;</span>
</span><span class='line'>gem uninstall rack -v 1.1.1
</span></code></pre></td></tr></table></div></figure>

<p><a rel="bookmark" href="http://uli-heller.github.com/2013/01/11/redmine-rails-update/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[WSGEN - Wie man's mit Interfaces macht]]></title>
<link href="http://uli-heller.github.com/2012/11/30/wsgen/"/>
<updated>2012-11-30T08:00:00+01:00</updated>
<id>http://uli-heller.github.com/2012/11/30/wsgen</id>

      <content type="html"><![CDATA[<h1>Erzeugen einer WSDL-Datei für ein JAXWS-Webservice-Interface</h1>

<h2>Vorab - unser Webservice</h2>

<p>Ausgangspunkt ist dieses Interface für unseren Webservice:</p>

<figure class='code'><figcaption><span>SampleWebService.java</span><a href='http://uli-heller.github.com/downloads/code/java/wsdl/SampleWebService.java' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">javax.jws.WebService</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.jws.WebMethod</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.jws.WebParam</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@WebService</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;sampleWebService&quot;</span><span class="o">,</span> <span class="n">targetNamespace</span> <span class="o">=</span> <span class="s">&quot;http:/sample.de/sample-web-service/&quot;</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">SampleWebService</span> <span class="o">{</span>
</span><span class='line'>   <span class="nd">@WebMethod</span>
</span><span class='line'>   <span class="kd">public</span> <span class="n">String</span> <span class="nf">echo</span><span class="o">(</span>
</span><span class='line'>            <span class="nd">@WebParam</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;msg&quot;</span><span class="o">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">WebParam</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">IN</span><span class="o">)</span> <span class="n">String</span> <span class="n">msg</span>
</span><span class='line'>   <span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Zusätzlich gibt&#8217;s auch schon eine Implementierung dafür, nämlich diese:</p>

<figure class='code'><figcaption><span>SampleWebServiceImpl.java</span><a href='http://uli-heller.github.com/downloads/code/java/wsdl/SampleWebServiceImpl.java' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">javax.jws.WebService</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@WebService</span><span class="o">(</span><span class="n">endpointInterface</span> <span class="o">=</span> <span class="s">&quot;SampleWebService&quot;</span><span class="o">,</span> <span class="n">serviceName</span> <span class="o">=</span> <span class="s">&quot;SampleWebService&quot;</span><span class="o">,</span> <span class="n">targetNamespace</span> <span class="o">=</span> <span class="s">&quot;http:/sample.de/sample-web-service/&quot;</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleWebServiceImpl</span> <span class="kd">implements</span> <span class="n">SampleWebService</span> <span class="o">{</span>
</span><span class='line'>   <span class="kd">public</span> <span class="n">String</span> <span class="nf">echo</span><span class="o">(</span><span class="n">String</span> <span class="n">msg</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>       <span class="k">return</span> <span class="s">&quot;Echo: &quot;</span><span class="o">+</span><span class="n">msg</span><span class="o">;</span>
</span><span class='line'>   <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Da wir nur zwei Quelldateien haben, können wir die schnell manuell durchkompilieren:</p>

<figure class='code'><figcaption><span>Kompilieren der Quelldateien </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>javac SampleWebServiceImpl.java  <span class="c"># ... kompiliert beide Dateien</span>
</span><span class='line'><span class="nv">$ </span>ls
</span><span class='line'>SampleWebService.class      SampleWebServiceImpl.java
</span><span class='line'>SampleWebServiceImpl.class  SampleWebService.java
</span></code></pre></td></tr></table></div></figure>


<h2>WSGEN - das übliche Vorgehen</h2>

<p>Das übliche Vorgehen basiert auf dem Tool <code>wsgen</code>, welches dem JDK beiliegt:</p>

<figure class='code'><figcaption><span>Vorgehen mit WSGEN </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>wsgen -cp . SampleWebServiceImpl -wsdl -inlineSchemas
</span><span class='line'><span class="nv">$ </span>ls
</span><span class='line'>jaxws                   SampleWebServiceImpl.class  SampleWebService.java
</span><span class='line'>SampleWebService.class  SampleWebServiceImpl.java   SampleWebService.wsdl
</span></code></pre></td></tr></table></div></figure>


<p>Da haben wir sie, die WSDL-Datei mit dem Namen &#8220;SampleWebService.wsdl&#8221;.</p>

<h2>WSGEN - das Problem</h2>

<p>Manchmal steht nur das Interface für den Webservice zur Verfügung, also nur die Datei <a href="http://uli-heller.github.com/downloads/code/java/wsdl/SampleWebService.java">SampleWebService.java</a>. Wenn wir versuchen, daraus eine WSDL-Datei zu erzeugen, erscheint so eine Fehlermeldung:</p>

<figure class='code'><figcaption><span>WSGEN und ServiceInterface </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>wsgen -cp . SampleWebService -wsdl -inlineSchemas
</span><span class='line'>The class <span class="s2">&quot;SampleWebService&quot;</span> is not an endpoint implementation class.
</span><span class='line'>
</span><span class='line'>Usage: WSGEN <span class="o">[</span>options<span class="o">]</span> &lt;SEI&gt;
</span><span class='line'>
</span><span class='line'>where <span class="o">[</span>options<span class="o">]</span> include:
</span><span class='line'>  -classpath &lt;path&gt;          specify where to find input class files
</span><span class='line'>...
</span><span class='line'>Examples:
</span><span class='line'>  wsgen -cp . example.Stock
</span><span class='line'>  wsgen -cp . example.Stock -wsdl -servicename <span class="o">{</span>http://mynamespace<span class="o">}</span>MyService
</span></code></pre></td></tr></table></div></figure>


<p>Wie&#8217;s aussieht funktioniert WSGEN also nicht mit Interface-Klassen, es wird eine Implementierungsklasse benötigt:</p>

<ul>
<li><a href="http://java.net/jira/browse/JAX_WS-817">Jira-Ticket gegen JAXWS</a></li>
</ul>


<h2>Ein erster Versuch mit abstrakter Klasse</h2>

<p>Hier eine abstrakte Implementierungsklasse:</p>

<figure class='code'><figcaption><span>AbstractSampleWebServiceImpl.java</span><a href='http://uli-heller.github.com/downloads/code/java/wsdl/AbstractSampleWebServiceImpl.java' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">javax.jws.WebService</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@WebService</span><span class="o">(</span><span class="n">endpointInterface</span> <span class="o">=</span> <span class="s">&quot;SampleWebService&quot;</span><span class="o">,</span> <span class="n">serviceName</span> <span class="o">=</span> <span class="s">&quot;SampleWebService&quot;</span><span class="o">,</span> <span class="n">targetNamespace</span> <span class="o">=</span> <span class="s">&quot;http:/sample.de/sample-web-service/&quot;</span><span class="o">)</span>
</span><span class='line'><span class="kd">abstract</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">AbstractSampleWebServiceImpl</span> <span class="kd">implements</span> <span class="n">SampleWebService</span> <span class="o">{</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Leider klappt&#8217;s auch nicht:</p>

<figure class='code'><figcaption><span>WSGEN mit abstrakter Implementierungsklasse </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>javac AbstractSampleWebServiceImpl.java
</span><span class='line'><span class="nv">$ </span>wsgen -cp . AbstractSampleWebServiceImpl -wsdl -inlineSchemas
</span><span class='line'>...
</span><span class='line'>com.sun.tools.internal.ws.processor.modeler.ModelerException: modeler error: Classes annotated with @javax.jws.WebService must not be abstract. Class: AbstractSampleWebServiceImpl
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<h2>Dynamische Erstellung einer Implementierungsklasse</h2>

<p>Der nächste Versuch sieht so aus:</p>

<ul>
<li>ich lade das Interface und untersuche alle seine Methoden</li>
<li>daraus erzeuge ich den Quelltext für eine Implementierungsklasse</li>
<li>die Implementierungsklasse kompiliere ich mit dem JavaCompiler</li>
<li>auf die dabei erstellte .class-Datei lasse ich dann <code>wsgen</code> los</li>
</ul>


<p>Den Versuch habe ich in einem <a href="http://github.com/uli-heller/uli-wsgen">GITHUB-Projekt</a> plattformübergreifend umgesetzt. Er scheint grundsätzlich zu funktionieren, ich kann in meinem aktuellen Projekt auf die manuelle Erstellung von Dummy-Implementierungsklassen verzichten.</p>

<p>Beispielaufruf: <code>./uli-wsgen.sh -c myproject.jar -f sample.wsdl SampleWebService</code></p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2012/11/30/wsgen/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[ASM - BytecodeOutline-Plugin in Eclipse installieren]]></title>
<link href="http://uli-heller.github.com/2012/11/27/bytecodeoutline/"/>
<updated>2012-11-27T08:00:00+01:00</updated>
<id>http://uli-heller.github.com/2012/11/27/bytecodeoutline</id>

      <content type="html"><![CDATA[<h1>BytecodeOutline-Plugin für Eclipse</h1>

<p>Zuerst ein paar Angaben zu meiner Systemumgebung:</p>

<ul>
<li>Ubuntu-12.04, 64bit</li>
<li>Eclipse-jee-juno-SR1</li>
<li><a href="http://forge.ow2.org/projects/asm/">de.loskutov.BytecodeOutline_2.4.0.jar</a></li>
</ul>


<p>Ich benötige das Plugin nur temporär. Es soll nicht permanent in meiner Eclipse-Umgebung verfügbar sein.</p>

<h2>Neue Eclipse-Installation</h2>

<figure class='code'><figcaption><span>Neue Eclipse-Installation </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd</span> /opt
</span><span class='line'>gzip -cd <span class="err">&quot;</span><span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/Downloads/eclipse/eclipse-jee-juno-SR1-linux-gtk-x86_64.tar.gz |sudo tar xf -
</span><span class='line'>sudo chown -R uli.uli eclipse
</span><span class='line'>sudo mv eclipse eclipse-botst
</span></code></pre></td></tr></table></div></figure>


<h2>Test der neuen Eclipse-Installation</h2>

<figure class='code'><figcaption><span>Test der Eclipse-Installation </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>/opt/eclipse-botst/eclipse &amp;
</span><span class='line'><span class="c"># Eclipse wird gestartet</span>
</span><span class='line'><span class="c"># -&gt; wieder stoppen</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Einspielen des Plugins</h2>

<figure class='code'><figcaption><span>Einspielen des Plugins </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Sicherstellen: Eclipse ist gestoppt</span>
</span><span class='line'><span class="nb">cd</span> /opt/eclipse-botst
</span><span class='line'>cp <span class="err">&quot;</span><span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/Downloads/de.loskutov.BytecodeOutline_2.4.0.jar dropins
</span></code></pre></td></tr></table></div></figure>


<h2>Kurztest des Plugins</h2>

<ul>
<li>Eclipse starten</li>
<li>Java-Klasse aus einem bestehenden Eclipse-Projekt selektieren</li>
<li>Window -> Show View -> Other -> Java -> Bytecode</li>
</ul>


<p><img class="" src="http://uli-heller.github.com/images/java/eclipse/bytecode-outline.png" title="'Eclipse mit Bytecode-View'" ></p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2012/11/27/bytecodeoutline/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Octopress-2.1]]></title>
<link href="http://uli-heller.github.com/2012/11/24/octopress-21/"/>
<updated>2012-11-24T10:49:00+01:00</updated>
<id>http://uli-heller.github.com/2012/11/24/octopress-21</id>

      <content type="html"><![CDATA[<h1>Meine Tests mit Octopress-2.1</h1>

<p>Ausgangspunkt ist meine &#8220;normale&#8221; Octopress-Installation:</p>

<figure class='code'><figcaption><span>Normale Octopress-Installation </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>octopress<span class="nv">$ </span>git branch -a
</span><span class='line'>  master
</span><span class='line'>* <span class="nb">source</span>
</span><span class='line'><span class="nb">  </span>remotes/octopress/2.1
</span><span class='line'>  remotes/octopress/gh-pages
</span><span class='line'>  remotes/octopress/linklog
</span><span class='line'>  remotes/octopress/master
</span><span class='line'>  remotes/octopress/refactor_with_tests
</span><span class='line'>  remotes/octopress/rubygemcli
</span><span class='line'>  remotes/octopress/site
</span><span class='line'>  remotes/origin/HEAD -&gt; origin/master
</span><span class='line'>  remotes/origin/gh-pages
</span><span class='line'>  remotes/origin/master
</span><span class='line'>  remotes/origin/source
</span></code></pre></td></tr></table></div></figure>


<p>Mit diesem Setup kann man nun umschalten auf Version 2.1:</p>

<figure class='code'><figcaption><span>Umstellen auf Octopress-2.1 </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>octopress<span class="nv">$ </span><span class="nb">export </span><span class="nv">LANG</span><span class="o">=</span>C.UTF-8
</span><span class='line'>octopress<span class="nv">$ </span>git checkout -t remotes/octopress/2.1
</span><span class='line'>Branch 2.1 <span class="nb">set </span>up to track remote branch 2.1 from octopress by rebasing.
</span><span class='line'>Switched to a new branch <span class="s1">&#39;2.1&#39;</span>
</span><span class='line'>octopress<span class="nv">$ </span>bundle install
</span><span class='line'>octopress<span class="nv">$ </span>rake install
</span><span class='line'>octopress<span class="nv">$ </span>rake generate
</span><span class='line'>octopress<span class="nv">$ </span>rake preview
</span><span class='line'><span class="c"># Browser: http://localhost:4000</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hier meine ersten Eindrücke:</p>

<ul>
<li>Code-Blöcke verwenden nun weißen Hintergrund, was für mich deutlich lesbarer und ansprechender aussieht</li>
<li>Blog-Einträge mit <code>published: false</code> werden nicht veröffentlicht, in 2.0 werden alle Blog-Einträge veröffentlicht</li>
<li>Bei RVM wird Ruby-1.9.2 &#8220;angezogen&#8221;, es funktioniert aber auch mit 1.9.3</li>
<li>Beim Drücken auf &#8220;Blog&#8221; erscheint in der Leiste rechts keine Liste der Blog-Einträge - source/_includes/sidebars/blog_index_default.html</li>
<li>Bei Überschriften werden die ersten Buchstaben immer groß geschrieben (also: So Eine Überschrift) - _config.yml, titlecase</li>
<li>Datumsangaben erfolgen in Englisch (wie bei 2.0) - etwas kompliziert zu ändern</li>
</ul>


<figure class='code'><figcaption><span>Anpassungen an Octopress-2.1 </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git branch -m 2.1 <span class="nb">source</span>-2.1
</span><span class='line'>git checkout <span class="nb">source</span>-2.1
</span><span class='line'>git push -u origin <span class="nb">source</span>-2.1
</span></code></pre></td></tr></table></div></figure>


<h2>Eigenes Darstellungsthema erzeugen</h2>

<h3>Kopie des Standards-Themas anlegen</h3>

<figure class='code'><figcaption><span>Eigenes Darstellungsthema für Octopress-2.1 </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>cp -a .themes/classic .themes/uli
</span><span class='line'>git add .themes/uli
</span><span class='line'>git commit -m <span class="s2">&quot;.themes: classic -&gt; uli&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Anpassungen von Octopress-2.0 übernehmen</h3>

<ul>
<li>Historie vom Zweig &#8220;source&#8221; durchsuchen nach den dort erledigten Änderungen am Thema</li>
<li>Übernehmen der Änderungen in den Zweig &#8220;source-2.1&#8221;</li>
</ul>


<figure class='code'><figcaption><span>Anpassungen des Darstellungsthemas von Octopress-2.0 übernehmen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Sichten der Historie</span>
</span><span class='line'>octopress<span class="nv">$ </span>git log --oneline ..source -- .themes/uli
</span><span class='line'>b941c1c Anpassungen am Layout
</span><span class='line'>1cfd652 cp -a .themes/classic .themes/uli
</span><span class='line'><span class="c"># Änderungen in source-2.1 übernehmen</span>
</span><span class='line'>octopress<span class="nv">$ </span>git rebase -i --onto <span class="nb">source</span>-2.1 1cfd652 b941c1c
</span><span class='line'><span class="c"># Konflikt wird angezeigt -&gt; auflösen und festschreiben (committen)</span>
</span><span class='line'>octopress<span class="nv">$ </span>...
</span><span class='line'><span class="c"># Zustand sichten</span>
</span><span class='line'>octopress<span class="nv">$ </span>gitk
</span><span class='line'><span class="c"># &quot;Detached head&quot;, source-2.1 liegt ein wenig &quot;zurück&quot;</span>
</span><span class='line'>octopress<span class="nv">$ </span>git checkout -b tmp
</span><span class='line'>octopress<span class="nv">$ </span>git checkout -B <span class="nb">source</span>-2.1 tmp
</span><span class='line'>octopress<span class="nv">$ </span>git branch -d tmp
</span></code></pre></td></tr></table></div></figure>


<h3>Darstellungsthema aktivieren</h3>

<figure class='code'><figcaption><span>Anpassungen des Darstellungsthemas von Octopress-2.0 übernehmen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>octopress<span class="nv">$ </span>rake install<span class="o">[</span><span class="s1">&#39;uli&#39;</span><span class="o">]</span>
</span><span class='line'>A theme is already installed, proceeding will overwrite existing files. Are you sure? <span class="o">[</span>y/n<span class="o">]</span> y
</span><span class='line'><span class="c">## Copying uli theme into ./source and ./sass</span>
</span><span class='line'>mkdir -p <span class="nb">source</span>
</span><span class='line'>cp -r .themes/uli/source/. <span class="nb">source</span>
</span><span class='line'>mkdir -p sass
</span><span class='line'>cp -r .themes/uli/sass/. sass
</span><span class='line'>mkdir -p <span class="nb">source</span>/_posts
</span><span class='line'>mkdir -p public
</span></code></pre></td></tr></table></div></figure>


<h2>Blog-Einträge von Octopress-2.0 übernehmen</h2>

<figure class='code'><figcaption><span>Dokumente von Octopress-2.0 übernehmen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git add <span class="nb">source</span>
</span><span class='line'>git commit -m <span class="s2">&quot;Quelltexte in&#39;s Repository aufgenommen&quot;</span> .
</span><span class='line'>git checkout <span class="nb">source</span> -- ./source/_posts
</span><span class='line'>git commit -m <span class="s2">&quot;Blog-Einträge kopiert von &#39;source&#39;&quot;</span> ./source
</span></code></pre></td></tr></table></div></figure>


<h2>Einstellungen anpassen</h2>

<h3>Grundeinstellungen</h3>

<figure class='code'><figcaption><span>Einstellungen anpassen - _config.yml </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -2,10 +2,10 @@</span>
</span><span class='line'> #      Main Configs       #
</span><span class='line'> # ----------------------- #
</span><span class='line'>
</span><span class='line'><span class="gd">-url: http://yoursite.com</span>
</span><span class='line'><span class="gd">-title: My Octopress Blog</span>
</span><span class='line'><span class="gd">-subtitle: A blogging framework for hackers.</span>
</span><span class='line'><span class="gd">-author: Your Name</span>
</span><span class='line'><span class="gi">+url: http://uli-heller.github.com</span>
</span><span class='line'><span class="gi">+title: Was ich so treibe...</span>
</span><span class='line'><span class="gi">+subtitle: Java, Linux und Groovy</span>
</span><span class='line'><span class="gi">+author: Uli Heller</span>
</span><span class='line'> simple_search: http://google.com/search
</span><span class='line'> description:
</span></code></pre></td></tr></table></div></figure>


<h3>Überschriften - keine Großbuchstaben</h3>

<figure class='code'><figcaption><span>Keine Großbuchstaben in Überschriften - _config.yml </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -49,7 +49,7 @@</span>
</span><span class='line'> linklog_marker_position: after
</span><span class='line'> linklog_marker_position_feed: after
</span><span class='line'> standard_post_marker:
</span><span class='line'>
</span><span class='line'><span class="gd">-titlecase: true       # Converts page and post titles to titlecase</span>
</span><span class='line'><span class="gi">+titlecase: false       # Converts page and post titles to titlecase</span>
</span><span class='line'>
</span><span class='line'> # To change the layout&#39;s default sidebar Add a new sidebar source/_includes/sid
</span><span class='line'> # then make changes below, eg. post_sidebar: your_sidebar.html
</span></code></pre></td></tr></table></div></figure>


<h3>Deutsche Übersetzungen</h3>

<p>Die Ideen sind weitgehend &#8220;geklaut&#8221; von <a href="http://www.uru.ch/blog/2011/09/12/octopress-oberflaeche-im-schnelldurchgang-auf-deutsch-uebersetzen/">Roger Schärer</a>. In folgenden Dateien sind englische Texte hinterlegt:</p>

<ul>
<li>_config.yml &#8230; OK</li>
<li>source/_includes/archive_post.html &#8230; OK</li>
<li>source/<em>includes/asides/recent_posts.html &#8230; nicht gefunden
source/</em>includes/sidebars/sections/recent_posts.html</li>
<li>source/<em>includes/asides/twitter.html .. nicht gefunden
source/</em>includes/sidebars/sections/twitter.html</li>
<li>source/_includes/custom/navigation.html</li>
<li>source/_includes/navigation.html</li>
<li>source/_includes/post/author.html</li>
<li>source/_layouts/post.html</li>
<li>source/_layouts/posts.html &#8230; nicht gefunden</li>
<li>source/_layouts/page.html &#8230; nicht gefunden</li>
<li>source/index.html</li>
<li>source/blog/archives/index.html &#8230; nicht gefunden
source/archives/index.html</li>
</ul>


<p>Die meisten dieser Änderungen führe ich nicht direkt an den Dateien unterhalb von &#8220;source&#8221; durch, sondern in meinem Themenverzeichnis &#8220;.themes/uli&#8221;. Von dort kann ich sie dann mittels <code>rake install['uli']</code> aktivieren.</p>

<h3>Deutsche Datumsangaben</h3>

<p>Das grundätzliche Vorgehen kommt von <a href="http://home-server-mind.com/deutsche-lokalisation-in-octopress-seiten/">Marc </a>. Er schreibt allerdings, dass man als Einstellung für das Format &#8220;ordinal&#8221; verwenden muß. Grund hierfür ist eine Unschönheit in seiner Implementierung der Methode &#8220;format_date&#8221;. Bei meiner Variante kann man auch beliebige andere Einstellungen verwenden. Ich verwende beispielsweise &#8220;%d. %B %Y&#8221;.</p>

<figure class='code'><figcaption><span>Deutsche Datumsangaben - plugins/date.rb </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -1,5 +1,57 @@</span>
</span><span class='line'><span class="gi">+# -*- coding: utf-8 -*-</span>
</span><span class='line'> module Octopress
</span><span class='line'>   module Date
</span><span class='line'><span class="gi">+    #Deutsche Lokalisation:</span>
</span><span class='line'><span class="gi">+    MONTHNAMES_DE = [nil,</span>
</span><span class='line'><span class="gi">+      &quot;Januar&quot;, &quot;Februar&quot;, &quot;März&quot;, &quot;April&quot;, &quot;Mai&quot;, &quot;Juni&quot;,</span>
</span><span class='line'><span class="gi">+      &quot;Juli&quot;, &quot;August&quot;, &quot;September&quot;, &quot;Oktober&quot;, &quot;November&quot;, &quot;Dezember&quot; ]</span>
</span><span class='line'><span class="gi">+    ABBR_MONTHNAMES_DE = [nil,</span>
</span><span class='line'><span class="gi">+      &quot;Jan&quot;, &quot;Feb&quot;, &quot;Mär&quot;, &quot;Apr&quot;, &quot;Mai&quot;, &quot;Jun&quot;,</span>
</span><span class='line'><span class="gi">+      &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Okt&quot;, &quot;Nov&quot;, &quot;Dez&quot; ]</span>
</span><span class='line'><span class="gi">+    DAYNAMES_DE = [</span>
</span><span class='line'><span class="gi">+      &quot;Sonntag&quot;, &quot;Montag&quot;, &quot;Dienstag&quot;, &quot;Mittwoch&quot;,</span>
</span><span class='line'><span class="gi">+      &quot;Donnerstag&quot;, &quot;Freitag&quot;, &quot;Samstag&quot; ]</span>
</span><span class='line'><span class="gi">+    ABBR_DAYNAMES_DE = [</span>
</span><span class='line'><span class="gi">+      &quot;So&quot;, &quot;Mo&quot;, &quot;Di&quot;, &quot;Mi&quot;,</span>
</span><span class='line'><span class="gi">+      &quot;Do&quot;, &quot;Fr&quot;, &quot;Sa&quot; ]</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+    # Returns a datetime if the input is a string</span>
</span><span class='line'><span class="gi">+    def datetime(date)</span>
</span><span class='line'><span class="gi">+      if date.class == String</span>
</span><span class='line'><span class="gi">+        date = Time.parse(date)</span>
</span><span class='line'><span class="gi">+      end</span>
</span><span class='line'><span class="gi">+      date</span>
</span><span class='line'><span class="gi">+    end</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+    # in _config.yml muss stehen: date_format: ordinal </span>
</span><span class='line'><span class="gi">+    def ordinalize(date)</span>
</span><span class='line'><span class="gi">+      #**** hier Format bei Bedarf ändern, z.B. %A für ausgeschriebenen Wochent</span>
</span><span class='line'><span class="gi">+      format_date(date, &quot;%a, %e. %B %Y&quot;) # SA, 10. MÄRZ 2012</span>
</span><span class='line'><span class="gi">+    end</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+    # Formats date either as ordinal or by given date format</span>
</span><span class='line'><span class="gi">+    # Adds %o as ordinal representation of the day</span>
</span><span class='line'><span class="gi">+    def format_date(date, format)</span>
</span><span class='line'><span class="gi">+      myformat = format.dup</span>
</span><span class='line'><span class="gi">+      date = datetime(date)</span>
</span><span class='line'><span class="gi">+      if format.nil? || format.empty? || format == &quot;ordinal&quot;</span>
</span><span class='line'><span class="gi">+        date_formatted = ordinalize(date) </span>
</span><span class='line'><span class="gi">+      else</span>
</span><span class='line'><span class="gi">+        myformat.gsub!(/%a/, ABBR_DAYNAMES_DE[date.wday])</span>
</span><span class='line'><span class="gi">+        myformat.gsub!(/%A/, DAYNAMES_DE[date.wday])</span>
</span><span class='line'><span class="gi">+        myformat.gsub!(/%b/, ABBR_MONTHNAMES_DE[date.mon])</span>
</span><span class='line'><span class="gi">+        myformat.gsub!(/%B/, MONTHNAMES_DE[date.mon])</span>
</span><span class='line'><span class="gi">+        date_formatted = date.strftime(myformat)</span>
</span><span class='line'><span class="gi">+        # date_formatted = date.strftime(format)</span>
</span><span class='line'><span class="gi">+        # date_formatted.gsub!(/%o/, ordinal(date.strftime(&#39;%e&#39;).to_i))</span>
</span><span class='line'><span class="gi">+      end</span>
</span><span class='line'><span class="gi">+      date_formatted #+&quot; ULI:#{date.mon}&quot;</span>
</span><span class='line'><span class="gi">+    end</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+  end</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+  module DateEn</span>
</span><span class='line'>
</span><span class='line'>     # Returns a datetime if the input is a string
</span><span class='line'>     def datetime(date)
</span><span class='line'><span class="gu">@@ -95,4 +147,11 @@ module Jekyll</span>
</span><span class='line'>       self.data[&#39;updated_formatted&#39;] = format_date(self.data[&#39;updated&#39;], date_format) if self.data.has_key?(&#39;updated&#39;)
</span><span class='line'>     end
</span><span class='line'>   end
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+  module Filters</span>
</span><span class='line'><span class="gi">+    include Octopress::Date</span>
</span><span class='line'><span class="gi">+    def date(date, format)</span>
</span><span class='line'><span class="gi">+      format_date(date, format)</span>
</span><span class='line'><span class="gi">+    end</span>
</span><span class='line'><span class="gi">+  end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Änderung an _config.yml, damit das Datum so angegeben wird: &#8220;25. Dezember 2012&#8221;</p>

<figure class='code'><figcaption><span>Datumsangaben &#8216;TT. Monat JJJJ&#8217; - _config.yml </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -13,7 +13,11 @@ description:</span>
</span><span class='line'> # You can customize the format as defined in
</span><span class='line'> # http://www.ruby-doc.org/core-1.9.2/Time.html#method-i-strftime
</span><span class='line'> # Additionally, %o will give you the ordinal representation of the day
</span><span class='line'><span class="gd">-date_format: &quot;ordinal&quot;</span>
</span><span class='line'><span class="gi">+#  %d.%m.%Y&quot; -&gt; 25.12.2012</span>
</span><span class='line'><span class="gi">+#  %d. %B %Y&quot; -&gt; 25. December 2012 (oder 25. Dezember 2012)</span>
</span><span class='line'><span class="gi">+date_format: &quot;%d. %B %Y&quot;</span>
</span><span class='line'>
</span><span class='line'> # RSS / Email (optional) subscription links (change if using something like Fee
</span><span class='line'> subscribe_rss: /atom.xml
</span></code></pre></td></tr></table></div></figure>


<h2>GitHub-Pages reaktivieren</h2>

<figure class='code'><figcaption><span>GutHub-Pages reaktivieren - Rakefile </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -9,13 +9,13 @@</span>
</span><span class='line'> ssh_user       = &quot;user@domain.com&quot;
</span><span class='line'> ssh_port       = &quot;22&quot;
</span><span class='line'> document_root  = &quot;~/website.com/&quot;
</span><span class='line'> rsync_delete   = false
</span><span class='line'><span class="gd">-deploy_default = &quot;rsync&quot;</span>
</span><span class='line'><span class="gi">+deploy_default = &quot;push&quot;</span>
</span><span class='line'>
</span><span class='line'> # Hidden &quot;dot&quot; files that should be included with the deployed site (see task c
</span><span class='line'> copy_dot_files = []
</span><span class='line'>
</span><span class='line'> # This will be configured for you when you run config_deploy
</span><span class='line'><span class="gd">-deploy_branch  = &quot;gh-pages&quot;</span>
</span><span class='line'><span class="gi">+deploy_branch  = &quot;master&quot;</span>
</span><span class='line'>
</span><span class='line'> ## -- Misc Configs -- ##
</span></code></pre></td></tr></table></div></figure>



<p><a rel="bookmark" href="http://uli-heller.github.com/2012/11/24/octopress-21/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Octopress-Installation]]></title>
<link href="http://uli-heller.github.com/2012/11/24/octopress/"/>
<updated>2012-11-24T10:49:00+01:00</updated>
<id>http://uli-heller.github.com/2012/11/24/octopress</id>

      <content type="html"><![CDATA[<h1>Meine erste Octopress-Installation</h1>

<h2>Installation</h2>

<h3>Vorbereitungen</h3>

<ul>
<li>Sicherstellen: Zugang zum Internet besteht</li>
<li>Größe der /usr-Partition auf 800MB setzen</li>
<li>Größe der /tmp-Partition auf 300MB setzen</li>
<li>Größe der /home-Partition auf 250MB setzen</li>
<li>GCC installieren</li>
<li>Libs installieren</li>
<li>Curl installieren</li>
</ul>


<figure class='code'><figcaption><span>Partition vergrößern und diverse Pakete installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo lvextend -L+400M /dev/systemvg/usrlv
</span><span class='line'>sudo resize2fs /dev/systemvg/usrlv
</span><span class='line'>sudo lvextend -L+200M /dev/systemvg/tmplv
</span><span class='line'>sudo resize2fs /dev/systemvg/tmplv
</span><span class='line'>sudo lvextend -L+200M /dev/systemvg/homelv
</span><span class='line'>sudo resize2fs /dev/systemvg/homelv
</span><span class='line'>sudo apt-get install gcc build-essential
</span><span class='line'>sudo apt-get install libyaml-dev libz-dev libssl-dev
</span><span class='line'>sudo apt-get install curl
</span></code></pre></td></tr></table></div></figure>


<h3>Basispakete</h3>

<h4>Git</h4>

<figure class='code'><figcaption><span>Git installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install -y git
</span><span class='line'>sudo apt-get clean
</span></code></pre></td></tr></table></div></figure>


<p>Für GIT wird die Version 1.8.0-0dp3~precise01 vom DPREPO angezogen.</p>

<h4>Ruby mittels RVM</h4>

<figure class='code'><figcaption><span>Ruby installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>curl -L https://get.rvm.io | bash -s stable --ruby
</span><span class='line'>. ./.rvm/scripts/rvm
</span><span class='line'>rvm install 1.9.3 <span class="c"># Zeigt eine Fehlermeldung, weil 1.9.3 bereits installiert ist</span>
</span><span class='line'>rvm use 1.9.3
</span><span class='line'>rvm rubygems latest
</span><span class='line'>ruby --version    <span class="c"># ruby 1.9.3p327 (2012-11-10 revision 37606) [i686-linux]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Octopress</h3>

<h4>Erstinstallation</h4>

<p>Die Schritte in diesem Abschnitt werden nur bei der allerersten Installation durchgeführt. Die dabei gemachten Einstellungen werden in einem zentralen Speicherbereich auf GitHub abgelegt und bei nachfolgenden Installationen von dort geladen.</p>

<h5>Octopress und Pakete</h5>

<figure class='code'><figcaption><span>Octropress installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span></code></pre></td></tr></table></div></figure>


<h5>Textile statt Markdown</h5>

<figure class='code'><figcaption><span>Textile statt Markdown - Rakefile </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -22,8 +22,8 @@ deploy_dir      = &quot;_deploy&quot;   # deploy directory (for Github p</span>
</span><span class='line'> stash_dir       = &quot;_stash&quot;    # directory to stash posts for speedy generation
</span><span class='line'> posts_dir       = &quot;_posts&quot;    # directory for blog files
</span><span class='line'> themes_dir      = &quot;.themes&quot;   # directory for blog files
</span><span class='line'><span class="gd">-new_post_ext    = &quot;markdown&quot;  # default new post file extension when using the </span>
</span><span class='line'><span class="gd">-new_page_ext    = &quot;markdown&quot;  # default new page file extension when using the </span>
</span><span class='line'><span class="gi">+new_post_ext    = &quot;textile&quot;   # default new post file extension when using the </span>
</span><span class='line'><span class="gi">+new_page_ext    = &quot;textile&quot;   # default new page file extension when using the </span>
</span><span class='line'> server_port     = &quot;4000&quot;      # port for preview server eg. localhost:4000
</span></code></pre></td></tr></table></div></figure>


<h5>Autor und Titel</h5>

<figure class='code'><figcaption><span>Autor und Tutel - _config.yml </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gu">@@ -2,10 +2,10 @@</span>
</span><span class='line'> #      Main Configs       #
</span><span class='line'> # ----------------------- #
</span><span class='line'>
</span><span class='line'><span class="gd">-url: http://yoursite.com</span>
</span><span class='line'><span class="gd">-title: My Octopress Blog</span>
</span><span class='line'><span class="gd">-subtitle: A blogging framework for hackers.</span>
</span><span class='line'><span class="gd">-author: Your Name</span>
</span><span class='line'><span class="gi">+url: http://uli-heller.github.com</span>
</span><span class='line'><span class="gi">+title: Was ich so treibe...</span>
</span><span class='line'><span class="gi">+subtitle: Linux, Java und Groovy</span>
</span><span class='line'><span class="gi">+author: Uli Heller</span>
</span><span class='line'> simple_search: http://google.com/search
</span><span class='line'> description:
</span></code></pre></td></tr></table></div></figure>


<h4>Veröffentlichung auf GitHub</h4>

<p>Ziel: Die Octopress-Seiten sollen auf GitHub unter</p>

<ul>
<li>http://uli-heller.github.com/</li>
</ul>


<p>veröffentlicht werden.</p>

<h5>Vorbereitungen auf GitHub</h5>

<p>Auf GitHub muß ein spezielles Repository angelegt werden:</p>

<ul>
<li>mein GitHub-Benutzer: &#8220;uli-heller&#8221;</li>
<li>neu anzulegendes Repository: &#8220;uli-heller.github.com&#8221;</li>
</ul>


<p>In der Liste der eigenen Repositories erscheint dann:</p>

<ul>
<li>uli-heller/uli-heller.github.com</li>
</ul>


<p>Test: Lege in dem Master-Zweig dieses Repositories eine Datei mit Namen</p>

<ul>
<li>index.html</li>
</ul>


<p>an und gib&#8217; danach im Browser die URL</p>

<ul>
<li>http://uli-heller.github.com</li>
</ul>


<p>ein. Mit etwas Glück erscheint der Inhalt der &#8220;index.html&#8221;</p>

<h5>Anpassungen im Octopress-Verzeichnis</h5>

<figure class='code'><figcaption><span>Octopress für Veröffentlichung vorbereiten </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>rake setup_github_pages
</span><span class='line'><span class="c"># Repository url: git@github.com:uli-heller/uli-heller.github.com</span>
</span><span class='line'>rake generate
</span><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure>


<h5>Quellverzeichnis zur Sicherung hinzufügen</h5>

<figure class='code'><figcaption><span>Sicherung vorbereiten </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git add <span class="nb">source</span>
</span><span class='line'>git commit -m <span class="s2">&quot;Quelltexte sichern&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h5>Neue Artikel sichern</h5>

<p>Neue Artikel werden mit diesem Befehl auf GitHub gesichert:</p>

<figure class='code'><figcaption><span>Quellverzeichnis sichern </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git commit -m <span class="s2">&quot;Sprechende Nachricht mit Änderungsbeschreibungen&quot;</span>
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<h5>Neue Veröffentlichungen</h5>

<p>Immer dann, wenn neue Artikel veröffentlicht werden sollen, muß man so vorgehen:</p>

<figure class='code'><figcaption><span>Neue Veröffentlichungen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>rake generate
</span><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure>


<h4>Folgeinstallation</h4>

<figure class='code'><figcaption><span>Folgeinstallation </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git clone  git@github.com:uli-heller/uli-heller.github.com octopress
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>git checkout <span class="nb">source</span>
</span><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install<span class="o">[</span><span class="s1">&#39;uli&#39;</span><span class="o">]</span>
</span><span class='line'>git remote add octopress git://github.com/imathis/octopress.git
</span><span class='line'>git fetch octopress
</span><span class='line'><span class="c"># ... nachfolgend nur für GitHub-Veröffentlichungen</span>
</span><span class='line'>rm -rf _deploy
</span><span class='line'>git init _deploy
</span><span class='line'><span class="nb">cd </span>_deploy
</span><span class='line'>git remote add -t master -f origin git@github.com:uli-heller/uli-heller.github.com
</span><span class='line'>git checkout master
</span><span class='line'><span class="nb">cd</span> ..
</span></code></pre></td></tr></table></div></figure>


<h2>Anpassungen</h2>

<h3>Darstellung</h3>

<figure class='code'><figcaption><span>Meinen Darstellungsstil aktivieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>rake install<span class="o">[</span><span class="s1">&#39;uli&#39;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Zurück zur Standard-Darstellung geht&#8217;s so:</p>

<figure class='code'><figcaption><span>Standarddarstellung aktivieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>rake install
</span></code></pre></td></tr></table></div></figure>


<h2>Ein erster Blog-Eintrag</h2>

<figure class='code'><figcaption><span>Ersten Blog-Eintrag erstellen </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>rake new_post<span class="o">[</span><span class="s2">&quot;Octopress&quot;</span><span class="o">]</span>
</span><span class='line'><span class="nv">$ </span>mkdir -p <span class="nb">source</span>/_posts
</span><span class='line'>Creating new post: <span class="nb">source</span>/_posts/2012-11-10-octopress.textile
</span><span class='line'><span class="c"># Datei source/_posts/2012-11-10-octopress.textile editieren</span>
</span><span class='line'><span class="nv">$ </span>rake generate
</span><span class='line'><span class="nv">$ </span>rake preview
</span><span class='line'><span class="c"># Sichten mit http://localhost:4000</span>
</span><span class='line'><span class="nv">$ </span>git commit -m <span class="s2">&quot;Erster Blog-Eintrag ist fertig&quot;</span>
</span><span class='line'><span class="nv">$ </span>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Probleme</h2>

<h3>Offene Probleme</h3>

<ul>
<li>Wie markiere ich in Blog-Einträgen am besten nachträgliche Änderungen?</li>
<li>Wie verwende ich include_code in Verbindung mit Textile?

<ul>
<li>https://github.com/imathis/octopress/issues/500</li>
<li><code>git branch -a --contains ca47041</code></li>
</ul>
</li>
</ul>


<h3>Erledigte Probleme</h3>

<h4>Farben sind recht duster</h4>

<p>Die Beschreibung ist obsolet! Verwende besser: <code>rake install['uli']</code>!</p>

<figure class='code'><figcaption><span>Hellere Farben - sass/custom/_colors.scss </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'>uli@uli-hp:~/git/octopress$ diff -u sass/custom/_colors.scss~ sass/custom/_colors.scss
</span><span class='line'><span class="gd">--- sass/custom/_colors.scss~    2012-11-10 19:45:17.000000000 +0100</span>
</span><span class='line'><span class="gi">+++ sass/custom/_colors.scss 2012-11-18 11:21:14.913856809 +0100</span>
</span><span class='line'><span class="gu">@@ -41,3 +41,61 @@</span>
</span><span class='line'> //$pre-bg: $base03;
</span><span class='line'> //$pre-border: darken($base02, 5);
</span><span class='line'> //$pre-color: $base1;
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+// 2012-11-18</span>
</span><span class='line'><span class="gi">+// http://aijazansari.com/2012/08/27/how-to-customize-octopress-theme/</span>
</span><span class='line'><span class="gi">+// ////////////////////////////////////////</span>
</span><span class='line'><span class="gi">+// change the background colors</span>
</span><span class='line'><span class="gi">+//</span>
</span><span class='line'><span class="gi">+html {</span>
</span><span class='line'><span class="gi">+  background: #fff !important;</span>
</span><span class='line'><span class="gi">+}</span>
</span><span class='line'><span class="gi">+body {</span>
</span><span class='line'><span class="gi">+  &gt; div {</span>
</span><span class='line'><span class="gi">+    background: #fff !important;</span>
</span><span class='line'><span class="gi">+    &gt; div {</span>
</span><span class='line'><span class="gi">+      background: #fff !important;</span>
</span><span class='line'><span class="gi">+      }</span>
</span><span class='line'><span class="gi">+  }</span>
</span><span class='line'><span class="gi">+}</span>
</span><span class='line'><span class="gi">+$main-bg: #ffffff !default;</span>
</span><span class='line'><span class="gi">+$page-bg: #ffffff !default;</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+// ////////////////////////////////////////</span>
</span><span class='line'><span class="gi">+// change the header colors</span>
</span><span class='line'><span class="gi">+//</span>
</span><span class='line'><span class="gi">+$header-bg: #fff;</span>
</span><span class='line'><span class="gi">+$title-color: #000000 !default;</span>
</span><span class='line'><span class="gi">+$text-color: #333 !default;</span>
</span><span class='line'><span class="gi">+$text-color-light: #777 !default;</span>
</span><span class='line'><span class="gi">+$subtitle-color: darken($header-bg, 58);</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+// ////////////////////////////////////////</span>
</span><span class='line'><span class="gi">+// change the nav bar</span>
</span><span class='line'><span class="gi">+//</span>
</span><span class='line'><span class="gi">+$nav-bg: #fff;</span>
</span><span class='line'><span class="gi">+$nav-bg-front: #fff;</span>
</span><span class='line'><span class="gi">+$nav-bg-back: #fff;</span>
</span><span class='line'><span class="gi">+$nav-color: darken($nav-bg, 78) !default;</span>
</span><span class='line'><span class="gi">+$nav-color-hover: darken($nav-color, 25) !default;</span>
</span><span class='line'><span class="gi">+$nav-border: darken($nav-bg, 50) !default;</span>
</span><span class='line'><span class="gi">+$nav-border-top: darken($nav-bg, 33) !default;</span>
</span><span class='line'><span class="gi">+$nav-border-bottom: darken($nav-bg, 33) !default;</span>
</span><span class='line'><span class="gi">+$nav-border-left: darken($nav-bg, 11) !default;</span>
</span><span class='line'><span class="gi">+$nav-border-right: lighten($nav-bg, 7) !default;</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+</span>
</span><span class='line'><span class="gi">+// ////////////////////////////////////////</span>
</span><span class='line'><span class="gi">+// change the footer</span>
</span><span class='line'><span class="gi">+//</span>
</span><span class='line'><span class="gi">+$footer-color: #888 !default;</span>
</span><span class='line'><span class="gi">+$footer-bg: #fff !default;</span>
</span><span class='line'><span class="gi">+$footer-bg-front: #fff !default;</span>
</span><span class='line'><span class="gi">+$footer-bg-back: #fff !default;</span>
</span><span class='line'><span class="gi">+$footer-color: darken($footer-bg, 38) !default;</span>
</span><span class='line'><span class="gi">+$footer-color-hover: darken($footer-color, 10) !default;</span>
</span><span class='line'><span class="gi">+$footer-border-top: lighten($footer-bg, 15) !default;</span>
</span><span class='line'><span class="gi">+$footer-border-bottom: darken($footer-bg, 15) !default;</span>
</span><span class='line'><span class="gi">+$footer-link-color: darken($footer-bg, 38) !default;</span>
</span><span class='line'><span class="gi">+$footer-link-color-hover: darken($footer-color, 25) !default;</span>
</span><span class='line'><span class="gi">+$page-border-bottom: darken($footer-bg, 5) !default;</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Listen sind nicht eingerückt</h4>

<p>Die Beschreibung ist obsolet! Verwende besser: <code>rake install['uli']</code>!</p>

<p>Die Darstellung von Listen ist unschön. Der Fehler betrifft Listen wie diese:</p>

<ul>
<li>Erster Listeneintrag</li>
<li>Zweiter Listeneintrag</li>
</ul>


<p>Die Listeneinträge werden zu weit links angeziegt, so dass die &#8220;Punkte&#8221; links außerhalb des Textbereichs erscheinen.</p>

<p>Korrektur: Editiere sass/custom/_layout.scss wie folgt:</p>

<figure class='code'><figcaption><span>Eingerückte Listen - sass/custom/_layout.scss </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gh">diff -u sass/custom/_layout.scss~  sass/custom/_layout.scss</span>
</span><span class='line'><span class="gd">--- sass/custom/_layout.scss~    2012-11-10 19:45:17.000000000 +0100</span>
</span><span class='line'><span class="gi">+++ sass/custom/_layout.scss 2012-11-18 11:05:43.661813157 +0100</span>
</span><span class='line'><span class="gu">@@ -6,7 +6,7 @@</span>
</span><span class='line'> //$header-padding-bottom: 1.5em;
</span><span class='line'>
</span><span class='line'> //$max-width: 1350px;
</span><span class='line'><span class="gd">-//$indented-lists: true;</span>
</span><span class='line'><span class="gi">+$indented-lists: true;</span>
</span><span class='line'>
</span><span class='line'> // Padding used for layout margins
</span><span class='line'> //$pad-min: 18px;
</span></code></pre></td></tr></table></div></figure>


<h4>Ruby mittels RBENV</h4>

<p>Funktioniert nicht, wir verwenden stattdessen RVM!</p>

<h5>RBENV</h5>

<figure class='code'><figcaption><span>RBENV </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">cd</span>
</span><span class='line'>git clone git://github.com/sstephenson/rbenv.git .rbenv
</span><span class='line'><span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;&#39;</span> &gt;&gt; ~/.bash_profile
</span><span class='line'><span class="nb">echo</span> <span class="s1">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span> &gt;&gt; ~/.bash_profile
</span><span class='line'>git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</span><span class='line'><span class="nb">source</span> ~/.bash_profile
</span></code></pre></td></tr></table></div></figure>


<h5>RUBY</h5>

<figure class='code'><figcaption><span>RUBY </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>rbenv install 1.9.3-p0
</span><span class='line'>rbenv rehash
</span></code></pre></td></tr></table></div></figure>


<p>Danach sollte dann <code>ruby --version</code> irgendwas mit 1.9.3 anzeigen, funktioniert aber nicht!</p>

<h4>YAML und zlib</h4>

<figure class='code'><figcaption><span>Fehlermeldung yaml und zlib </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>gem install bundler
</span><span class='line'>/home/uli/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/yaml.rb:56:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="err">&#39;</span>:
</span><span class='line'>It seems your ruby installation is missing psych <span class="o">(</span><span class="k">for </span>YAML output<span class="o">)</span>.
</span><span class='line'>To eliminate this warning, please install libyaml and reinstall your ruby.
</span><span class='line'>ERROR:  Loading <span class="nb">command</span>: install <span class="o">(</span>LoadError<span class="o">)</span>
</span><span class='line'>    cannot load such file -- zlib
</span><span class='line'>ERROR:  While executing gem ... <span class="o">(</span>NameError<span class="o">)</span>
</span><span class='line'>    uninitialized constant Gem::Commands::InstallCommand
</span></code></pre></td></tr></table></div></figure>


<p>Lösungsversuch mit libyaml-dev und libz-dev:</p>

<figure class='code'><figcaption><span>yaml und zlib installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install libyaml-dev libz-dev
</span><span class='line'>rvm reinstall 1.9.3
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>gem install bundler
</span></code></pre></td></tr></table></div></figure>


<p>&#8230; funktioniert.</p>

<h4>OpenSSL</h4>

<figure class='code'><figcaption><span>Fehlermeldung OpenSSL </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>uli@ubuntu1204:~/octopress<span class="nv">$ </span>rake generate
</span><span class='line'><span class="c">## Generating Site with Jekyll</span>
</span><span class='line'>directory <span class="nb">source</span>/stylesheets/
</span><span class='line'>   create <span class="nb">source</span>/stylesheets/screen.css
</span><span class='line'>/home/uli/.rvm/gems/ruby-1.9.3-p327/gems/maruku-0.6.0/lib/maruku/input/parse_doc.rb:22:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;: iconv will be deprecated in the future, use String#encode instead.</span>
</span><span class='line'><span class="s1">Configuration from /home/uli/octopress/_config.yml</span>
</span><span class='line'><span class="s1">/home/uli/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/net/https.rb:22:in `require&#39;</span>: cannot load such file -- openssl <span class="o">(</span>LoadError<span class="o">)</span>
</span><span class='line'>  from /home/uli/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/net/https.rb:22:in <span class="sb">`</span>&lt;top <span class="o">(</span>required<span class="o">)</span>&gt;<span class="err">&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lösungsversuch mit libssl-dev:</p>

<figure class='code'><figcaption><span>libssl-dev installieren </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install libssl-dev
</span><span class='line'>rvm reinstall 1.9.3
</span><span class='line'><span class="nb">cd </span>octopress
</span><span class='line'>rake generate
</span></code></pre></td></tr></table></div></figure>


<p>&#8230; funktioniert.</p>
<p><a rel="bookmark" href="http://uli-heller.github.com/2012/11/24/octopress/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Markdown-Testdokument]]></title>
<link href="http://uli-heller.github.com/2012/05/18/markdown/"/>
<updated>2012-05-18T08:00:00+02:00</updated>
<id>http://uli-heller.github.com/2012/05/18/markdown</id>

      <content type="html"><![CDATA[<h1>Markdown-Testdokument</h1>

<p>Dies ist mein Testdokument für Markdown. Ich packe hier einfach alle denkbaren Konstrukte in Markdown rein, damit ich nicht immer wieder neu suchen muß.</p>

<!-- more -->


<p>Quellen:</p>

<ul>
<li><a href="http://daringfireball.net/projects/markdown/">DaringFireball</a> - (besser lesbare lokale <a href="http://uli-heller.github.com/articles/daringfireball-markdown.html">Kopie</a> davon)</li>
</ul>


<h2>Überschrift</h2>

<h2>Noch eine Überschrift</h2>

<h3>Abschnitt 1</h3>

<h3>Abschnitt 2</h3>

<ul>
<li>Eine Liste

<ul>
<li>Geschachtelte Liste</li>
</ul>
</li>
<li>Formatierungen

<ul>
<li><em>fett</em></li>
<li><em>fett</em></li>
<li><strong>fett</strong></li>
<li><strong>fett</strong></li>
<li>Kommando: <code>ls -l</code></li>
</ul>
</li>
<li>Liste mit Code-Block:

<pre><code>  cd /tmp
  ls
</code></pre></li>
</ul>


<p>Ein Bild: <img src="http://uli-heller.github.com/images/cc-by-sa-3.0_88x31.png" alt="CC-Icon" /></p>

<h2>Octopress-Erweiterungen</h2>

<h3>Codeblock</h3>

<figure class='code'><figcaption><span>Here&#8217;s an example .rvmrc file. </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rvm</span> <span class="n">ruby</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">6</span> <span class="c1"># ZOMG, seriously? We still use this version?</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nach gegenwärtigem Kenntnisstand kann so ein Codeblock nicht Bestandteil einer Liste sein! (Octopress-2.0 und 2.1)</p>

<h3>Datei</h3>

<figure class='code'><figcaption><span>Beispiel.java</span><a href='http://uli-heller.github.com/downloads/code/Beispiel.java' title='Download code'> download</a></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Beispiel</span> <span class="o">{</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>     <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Dies ist ein Beispiel&quot;</span><span class="o">;</span>
</span><span class='line'>     <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Bild</h3>

<p><img class="" src="http://uli-heller.github.com/images/cc-by-sa-3.0_88x31.png" title="'CC-Icon'" ></p>

<h2>Tests</h2>

<h3>Liste mit Codeblock</h3>

<ul>
<li>Liste</li>
<li>mit Codeblock</li>
</ul>


<figure class='code'><figcaption><span>Here&#8217;s an example .rvmrc file. </span></figcaption><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rvm</span> <span class="n">ruby</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">6</span> <span class="c1"># ZOMG, seriously? We still use this version?</span>
</span></code></pre></td></tr></table></div></figure>



<p><a rel="bookmark" href="http://uli-heller.github.com/2012/05/18/markdown/">&#9875; Permalink</a></p>]]></content>
    </entry>
  
</feed>
